/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(1);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _es2015Index = __webpack_require__(2);\n\nvar _es2015Index2 = _interopRequireDefault(_es2015Index);\n\nvar _TestSprite = __webpack_require__(3);\n\nvar _TestSprite2 = _interopRequireDefault(_TestSprite);\n\nvar Game = (function (_Jest) {\n    _inherits(Game, _Jest);\n\n    function Game(options) {\n        _classCallCheck(this, Game);\n\n        _get(Object.getPrototypeOf(Game.prototype), 'constructor', this).call(this, options);\n    }\n\n    _createClass(Game, [{\n        key: 'init',\n        value: function init() {\n            _get(Object.getPrototypeOf(Game.prototype), 'init', this).call(this);\n            this.gameState = {};\n            var gameState = this.gameState;\n            gameState.sprites = [];\n            var testSprite = new _TestSprite2['default']({ x: Math.random() * 640, y: Math.random() * 480 });\n            gameState.sprites.push(testSprite);\n            this.addEntity(testSprite);\n        }\n    }]);\n\n    return Game;\n})(_es2015Index2['default']);\n\nvar AnimatedSpritesExample = new Game({\n    canvas: \"jestCanvas\",\n    width: 640,\n    height: 480,\n    frameRate: Math.ceil(1000 / 60),\n    showFrameRate: true\n});\n\nwindow.onload = function () {\n    AnimatedSpritesExample.load();\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXhhbXBsZXMvYW5pbWF0ZWQgc3ByaXRlcy9pbmRleC5qcz8yOTI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozt1Q0FBaUIsQ0FBb0I7Ozs7c0NBQ2QsQ0FBYzs7OztBQUVyQyxJQUFJLElBQUk7Y0FBUyxJQUFJOztBQUNOLGFBREUsSUFBSSxDQUNMLE9BQU8sRUFBQzs4QkFEUCxJQUFJOztBQUViLG1DQUZTLElBQUksNkNBRVAsT0FBTyxFQUFFO0tBQ2xCOztpQkFIWSxJQUFJOztlQUliLGdCQUFFO0FBQ0YsdUNBTFMsSUFBSSxzQ0FLQTtBQUNiLGdCQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUNwQixnQkFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUMvQixxQkFBUyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDdkIsZ0JBQUksVUFBVSxHQUFHLDRCQUFlLEVBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ25GLHFCQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNuQyxnQkFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUM5Qjs7O1dBWlksSUFBSTs0QkFhcEI7O0FBRUQsSUFBSSxzQkFBc0IsR0FBRyxJQUFJLElBQUksQ0FBQztBQUMxQixVQUFNLEVBQUcsWUFBWTtBQUNyQixTQUFLLEVBQUUsR0FBRztBQUNWLFVBQU0sRUFBRyxHQUFHO0FBQ1osYUFBUyxFQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFDLEVBQUUsQ0FBQztBQUM5QixpQkFBYSxFQUFHLElBQUk7Q0FDdkIsQ0FBQyxDQUFDOztBQUVYLE1BQU0sQ0FBQyxNQUFNLEdBQUcsWUFBVTtBQUN0QiwwQkFBc0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUNqQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKZXN0IGZyb20gJy4uLy4uL2VzMjAxNS9pbmRleCc7XHJcbmltcG9ydCBUZXN0U3ByaXRlIGZyb20gJy4vVGVzdFNwcml0ZSc7XHJcblxyXG5sZXQgR2FtZSA9IGNsYXNzIEdhbWUgZXh0ZW5kcyBKZXN0e1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyl7XHJcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgc3VwZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0ge307XHJcbiAgICAgICAgbGV0IGdhbWVTdGF0ZSA9IHRoaXMuZ2FtZVN0YXRlO1xyXG4gICAgICAgIGdhbWVTdGF0ZS5zcHJpdGVzID0gW107XHJcbiAgICAgICAgbGV0IHRlc3RTcHJpdGUgPSBuZXcgVGVzdFNwcml0ZSh7eDogTWF0aC5yYW5kb20oKSAqIDY0MCwgeTogTWF0aC5yYW5kb20oKSAqIDQ4MCB9KTtcclxuICAgICAgICBnYW1lU3RhdGUuc3ByaXRlcy5wdXNoKHRlc3RTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuYWRkRW50aXR5KHRlc3RTcHJpdGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgQW5pbWF0ZWRTcHJpdGVzRXhhbXBsZSA9IG5ldyBHYW1lKHtcclxuICAgICAgICAgICAgY2FudmFzIDogXCJqZXN0Q2FudmFzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiA2NDAsXHJcbiAgICAgICAgICAgIGhlaWdodCA6IDQ4MCxcclxuICAgICAgICAgICAgZnJhbWVSYXRlIDogTWF0aC5jZWlsKDEwMDAvNjApLFxyXG4gICAgICAgICAgICBzaG93RnJhbWVSYXRlIDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBBbmltYXRlZFNwcml0ZXNFeGFtcGxlLmxvYWQoKTtcclxufTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXhhbXBsZXMvYW5pbWF0ZWQgc3ByaXRlcy9pbmRleC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjEuanMifQ==");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _ResourceManager = __webpack_require__(6);\n\nvar _ResourceManager2 = _interopRequireDefault(_ResourceManager);\n\nvar _Renderer = __webpack_require__(7);\n\nvar _Renderer2 = _interopRequireDefault(_Renderer);\n\nvar _Label = __webpack_require__(8);\n\nvar _Label2 = _interopRequireDefault(_Label);\n\nvar Jest = (function () {\n    function Jest(options) {\n        _classCallCheck(this, Jest);\n\n        options = options || {};\n        this.renderCanvas = options.canvas || \"playCanvas\";\n        this.width = options.width || 320;\n        this.height = options.height || 240;\n        this.frameRate = options.frameRate || Math.ceil(1000 / 60);\n        this.showFrameRate = options.showFrameRate || false;\n        this.stateName = options.stateName || \"0\";\n\n        // State info\n        this.states = [];\n        this.currentState = {};\n\n        // Render stuff\n        this.renderer = {};\n        this.renderList = [];\n        this.entities = [];\n\n        // Timing\n        this.intervalId = {};\n        this.lastTime = Date.now();\n        this.accTime = 0;\n        this.timeStep = 1;\n\n        // game bounds\n        this.bounds = { x: 0, y: 0, width: this.width, height: this.height };\n\n        // used to show the fps\n        this.frameRateLabel = {};\n\n        // init the utilities and resource manager\n        this.resourceManager = new _ResourceManager2['default']();\n\n        // List of entities in a recent collision\n        this.hitEntities = [];\n\n        // Keep track of how many particles we have on screen\n        this.particleCount = 0;\n\n        Jest.frameRate = this.frameRate;\n        Jest.bounds = this.bounds;\n        Jest.particleCount = this.particleCount;\n        Jest.utilities = this.utilities;\n        Jest.states = this.states;\n        Jest.currentState = this.currentState;\n        Jest.focused = true;\n        Jest.keys = [];\n    }\n\n    /**\r\n    * Jest.load()\r\n    *\r\n    * prepares the canvas for rendering, and starts the update process\r\n    **/\n\n    _createClass(Jest, [{\n        key: 'load',\n        value: function load() {\n            this.loaded(this);\n        }\n\n        /**\r\n         * Jest.loaded()\r\n         * object event\r\n         * makes sure everything is loaded until continuing\r\n         **/\n    }, {\n        key: 'loaded',\n        value: function loaded(game) {\n            var self = this;\n            if (this.resourceManager.loadingComplete) {\n                game.init();\n                return true;\n            } else {\n                setTimeout(function () {\n                    self.loaded(game);\n                }, 100);\n                return false;\n            }\n        }\n\n        /**\r\n         * Jest.update()\r\n         *\r\n         * Main update loop for the game, updates all objects, and calls the renderer.\r\n         **/\n    }, {\n        key: 'update',\n        value: function update() {\n            var curTime = Date.now(),\n                update = this.update;\n\n            this.deltaTime = curTime - this.lastTime;\n            this.lastTime = curTime;\n            this.accTime += this.deltaTime;\n\n            // Limit the delta queing\n            if (this.accTime > 60) {\n                this.accTime = 0;\n            }\n\n            while (this.accTime > this.timeStep) {\n                this.accTime -= this.timeStep;\n                var entities = this.entities,\n                    entLen = this.entities.length;\n\n                while (entLen--) {\n                    var object = entities[entLen];\n                    if (object !== undefined) {\n                        if (object.live) {\n                            object.update(this.timeStep / 100);\n                        } else {\n                            this.removeEntity(object);\n                        }\n                    }\n                }\n            }\n\n            this.renderer.redraw();\n            this.frameRateLabel.text = Math.round(1000 / this.deltaTime) + \" fps\";\n            this.currentFrameRate = Math.round(1000 / this.deltaTime);\n\n            var self = this;\n            requestAnimationFrame(function () {\n                self.update();\n            });\n        }\n\n        /**\r\n         * Jest.init()\r\n         *\r\n         * prepares the canvas for rendering, and starts the update process\r\n         **/\n    }, {\n        key: 'init',\n        value: function init() {\n            // base for starting, presetup ect.\n            var self = this;\n\n            this.renderCanvas = document.getElementById(this.renderCanvas);\n\n            if (this.renderCanvas === null) {\n                this.renderCanvas = document.createElement(\"canvas\");\n            }\n\n            // disable dragging\n            this.renderCanvas.draggable = false;\n\n            // determine if the game has the focus or not\n            document.addEventListener(\"touchstart\", function (event) {\n                if (event.target !== self.renderCanvas) {\n                    Jest.focused = false;\n                } else {\n                    Jest.focused = true;\n                }\n            });\n\n            //this.renderCanvas.addEventListener('touchstart', function(event){Jest.focused = true; self.clicked(event,self);}, false);\n            this.renderCanvas.addEventListener('click', function (event) {\n                Jest.focused = true;self.clicked(event, self);\n            }, false);\n            this.renderCanvas.addEventListener('mousemove', function (event) {\n                self.mouseMove(event, self);\n            }, false);\n            this.renderCanvas.addEventListener('mousedown', function (event) {\n                self.mouseDown(event, self);\n            }, false);\n            this.renderCanvas.addEventListener('mouseup', function (event) {\n                self.mouseUp(event, self);\n            }, false);\n\n            this.renderCanvas.addEventListener('contextmenu', function (event) {\n                event.preventDefault();\n            }, false);\n\n            // mousewheel\n            this.renderCanvas.addEventListener(\"mousewheel\", function (event) {\n                self.mouseWheel(event, self);\n            }, false);\n            this.renderCanvas.addEventListener(\"DOMMouseScroll\", function (event) {\n                self.mouseWheel(event, self);\n            }, false);\n\n            // keypress\n            document.addEventListener(\"keydown\", function (event) {\n                if (Jest.focused) {\n                    self.keyDown(event, self);\n                }\n            }, false);\n            document.addEventListener(\"keyup\", function (event) {\n                if (Jest.focused) {\n                    self.keyUp(event, self);\n                }\n            }, false);\n\n            this.renderCanvas.width = this.width;\n            this.renderCanvas.height = this.height;\n\n            this.renderer = new _Renderer2['default'](this.renderCanvas);\n\n            this.addState(this.stateName);\n            this.switchState({ 'id': 0 });\n\n            // setup a label to display the frameRate\n            if (this.showFrameRate) {\n                this.frameRateLabel = new _Label2['default']({ 'text': ' ', x: 0, y: 30, z: 1, 'font': '14pt arial bold' });\n                this.addEntity(this.frameRateLabel);\n            }\n\n            this.mouseX = 0;\n            this.mouseY = 0;\n\n            this.moused = false;\n            this.leftDown = false;\n            this.rightDown = false;\n            this.midDown = false;\n\n            this.update();\n        }\n\n        /**\r\n         * Jest.getKey()\r\n         * returns the state of a key\r\n         **/\n    }, {\n        key: 'getKey',\n        value: function getKey(key) {\n            //todo: add logic to return the state of the key, get the keycode based off of thekey passed\n            return Jest.keys[key];\n        }\n\n        /**\r\n         * Jest.keyDown()\r\n         * sets the state of the key pressed to true\r\n         **/\n    }, {\n        key: 'keyDown',\n        value: function keyDown(event, self) {\n            Jest.keys[event.keyCode] = true;\n        }\n\n        /**\r\n         * Jest.keyUp()\r\n         * sets the state of the key pressed to false\r\n         **/\n    }, {\n        key: 'keyUp',\n        value: function keyUp(event, self) {\n            Jest.keys[event.keyCode] = false;\n        }\n\n        /**\r\n         * Jest.clicked()\r\n         * object event\r\n         * handles the click event for the canvas\r\n         * TODO update this, I dont like how it requires origin and pos\r\n         **/\n    }, {\n        key: 'clicked',\n        value: function clicked(event, self) {\n            this.cX = 0;\n            this.cY = 0;\n\n            if (event.pageX || event.pageY) {\n                this.cX = event.pageX;\n                this.cY = event.pageY;\n            } else if (event.changedTouches) {\n                this.cX = event.changedTouches[0].pageX;\n                this.cY = event.changedTouches[0].pageY;\n            } else {\n                this.cX = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n                this.cY = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n            }\n\n            this.cX -= self.renderCanvas.offsetLeft;\n            this.cY -= self.renderCanvas.offsetTop;\n\n            var id = self.entities.length,\n                entities = self.entities;\n\n            while (id--) {\n                var entity = entities[id];\n                if (entity.clickable && entity.pos && entity.origin) {\n                    if (this.cX > entity.pos.x - entity.origin.x && this.cX < entity.pos.x - entity.origin.x + entity.width && this.cY > entity.pos.y - entity.origin.y && this.cY < entity.pos.y - entity.origin.y + entity.height) {\n                        entity.clicked();\n                        if (entity.noClickThrough) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return { 'clickX': this.cX, 'clickY': this.cY };\n        }\n\n        /**\r\n         * Jest.mouseMove()\r\n         * object event\r\n         * handles the mouse move event\r\n         **/\n    }, {\n        key: 'mouseMove',\n        value: function mouseMove(event, self) {\n            if (event.pageX || event.pageY) {\n                self.mouseX = event.pageX - self.renderCanvas.offsetLeft;\n                self.mouseY = event.pageY - self.renderCanvas.offsetTop;\n            } else {\n                self.mouseX = event.clientX + document.body.scrollLeft - document.body.clientLeft - self.renderCanvas.offsetLeft;\n                self.mouseY = event.clientY + document.body.scrollTop - document.body.clientTop - self.renderCanvas.offsetTop;\n            }\n        }\n    }, {\n        key: 'mouseDown',\n        value: function mouseDown(event, self) {\n            self.moused = true;\n            if ('which' in event) {\n                switch (event.which) {\n                    case 1:\n                        self.leftDown = true;\n                        break;\n                    case 2:\n                        self.midDown = true;\n                        break;\n                    case 3:\n                        self.rightDown = true;\n                        break;\n                }\n            }\n\n            this.mdX = 0;\n            this.mdY = 0;\n\n            if (event.pageX || event.pageY) {\n                this.mdX = event.pageX;\n                this.mdY = event.pageY;\n            } else {\n                this.mdX = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n                this.mdY = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n            }\n\n            this.mdX -= self.renderCanvas.offsetLeft;\n            this.mdY -= self.renderCanvas.offsetTop;\n\n            var id = self.entities.length,\n                entities = self.entities;\n\n            while (id--) {\n                var entity = entities[id];\n                if (entity.clickable && entity.pos && entity.origin) {\n                    if (this.mdX > entity.pos.x - entity.origin.x && this.mdX < entity.pos.x - entity.origin.x + entity.width && this.mdY > entity.pos.y - entity.origin.y && this.mdY < entity.pos.y - entity.origin.y + entity.height) {\n                        entity.mouseDown();\n                    }\n                }\n            }\n\n            return { 'mouseDownX': this.mdX, 'mouseDownY': this.mdY };\n        }\n    }, {\n        key: 'mouseUp',\n        value: function mouseUp(event, self) {\n            self.moused = false;\n            self.leftDown = false;\n            self.midDown = false;\n            self.rightDown = false;\n        }\n    }, {\n        key: 'mouseWheel',\n        value: function mouseWheel(event, self) {\n            var dir = 0;\n            if ('wheelDelta' in event) {\n                if (Math.abs(event.wheelDelta) - event.wheelDelta === 0) {\n                    dir = -1;\n                } else {\n                    dir = 1;\n                }\n            } else if (event.detail) {\n                if (Math.abs(event.detail) - event.detail === 0) {\n                    dir = 1;\n                } else {\n                    dir = -1;\n                }\n            }\n\n            return dir;\n        }\n\n        // Handles Entities\n\n        /**\r\n         * Jest.addEntity()\r\n         * object entity, renderFalse bool, state object\r\n         * renderFalse : controls if the item is added to the renderer.. idk this is kind of hack, basically its for things you want in the\r\n         * main update loop but doesn't render at all, so like a container\r\n         * state {name : string, OR id : number}: allows you to specify what state you want to add the entity to, if you dont specify it adds it to the current state\r\n         **/\n    }, {\n        key: 'addEntity',\n        value: function addEntity(object, renderFalse, state) {\n            // add the live prop since the renderer/update chooses to display or update based on it\n            if (!(\"live\" in object)) {\n                object.live = true;\n            }\n\n            this.renderFalse = renderFalse;\n\n            if (state) {\n                var foundState = this.getState(state);\n\n                if (foundState) {\n                    foundState.entityList.push(object);\n                    object.state = foundState;\n                }\n            } else {\n                this.entities.push(object);\n                object.state = this.currentState;\n            }\n\n            if (!renderFalse) {\n                this.renderer.addToRenderer(object);\n            }\n        }\n\n        /**\r\n         * Jest.removeEntity()\r\n         * object entity, state Object\r\n         * Removes an entity from the update cycle and renderer, you can also specify the state you want to remove from\r\n         **/\n    }, {\n        key: 'removeEntity',\n        value: function removeEntity(object, state) {\n            var entities = this.entities,\n                numEntities = entities.length;\n\n            if (state) {\n                var foundState = this.getState(state);\n\n                if (foundState) {\n                    entities = foundState.entityList;\n                    numEntities = entities.length;\n                }\n            }\n\n            var item = entities.indexOf(object);\n\n            if (typeof object.kill != 'undefined') {\n                object.kill();\n            }\n\n            entities.splice(item, 1);\n\n            this.renderer.removeFromRenderer(object);\n        }\n\n        /**\r\n         * Jest.addState()\r\n         * object options\r\n         * {name : string}\r\n         * Adds a state the Jest, states hold their own entity list, and render list\r\n         **/\n    }, {\n        key: 'addState',\n        value: function addState(name, enterState, exitState) {\n            var stateObj = {};\n\n            if (name) {\n                stateObj.name = name;\n            } else {\n                stateObj.name = this.states.length;\n            }\n\n            stateObj.enterState = enterState || undefined;\n\n            // assign it the next val\n            stateObj.id = this.states.length;\n            stateObj.renderList = [];\n            stateObj.entityList = [];\n            this.states.push(stateObj);\n        }\n\n        /**\r\n         * Jest.getState()\r\n         * object options\r\n         * {name : string, id : number}\r\n         * Finds and returns the state\r\n         **/\n    }, {\n        key: 'getState',\n        value: function getState(options) {\n            var foundState = false;\n\n            if (\"id\" in options) {\n                foundState = this.states[options.id];\n            } else if (\"name\" in options) {\n                var stateName = options.name;\n                for (var i = 0, len = this.states.length; i < len; i++) {\n                    if (this.states[i].name === stateName) {\n                        foundState = this.states[i];\n                        break;\n                    }\n                }\n            }\n\n            return foundState;\n        }\n\n        /**\r\n         * Jest.switchState()\r\n         * object options\r\n         * {name : string, id : number}\r\n         * Adds a state the Jest, states hold their own entity list, and render list\r\n         **/\n    }, {\n        key: 'switchState',\n        value: function switchState(options) {\n            var foundState = this.getState(options);\n\n            // throw in a debug if the state hasn't been found\n            if (foundState) {\n                if (options.exitTransition && !options.exitComplete) {\n                    // perform exit transition if one exists\n                    options.exitComplete = true;\n                    Game.addEntity(new Jest.Transition(options.exitTransition, function () {\n                        Game.switchState(options);\n                    }));\n                } else {\n                    // switch the render list, and the entity list\n                    this.currentState = foundState;\n                    this.renderer.renderList = this.currentState.renderList;\n                    this.entities = this.currentState.entityList;\n\n                    // if the state has an enter state function call it\n                    if (foundState.enterState) {\n                        foundState.enterState();\n                    }\n\n                    // Perform enter transition if one exists\n                    if (options.enterTransition) {\n                        Game.addEntity(new Jest.Transition(options.enterTransition));\n                    }\n                }\n            }\n        }\n\n        /**\r\n         * Jest.checkHit(x,y)\r\n         * x,y number\r\n         * Checks all the entities to see if they were hit by the coords. Very expensive right now definitly need to clean it up\r\n         **/\n    }, {\n        key: 'checkHit',\n        value: function checkHit(x, y) {\n            var numEntities = this.entities.length,\n                entities = this.entities;\n\n            this.hitEntities = [];\n\n            for (var id = 0, entLen = this.entities.length; id < entLen; id++) {\n                var object = entities[id];\n                if (object.live && object.clickable) {\n                    if (x > object.x && x < object.x + object.width && y > object.y && y < object.y + object.height) {\n                        this.hitEntities.push(object);\n                    }\n                }\n            }\n        }\n    }]);\n\n    return Jest;\n})();\n\nexports['default'] = Jest;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L2luZGV4LmpzP2NlNTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OzJDQUE0QixDQUFtQjs7OztvQ0FDMUIsQ0FBWTs7OztpQ0FDZixDQUFTOzs7O0lBRU4sSUFBSTtBQUNWLGFBRE0sSUFBSSxDQUNULE9BQU8sRUFBRTs4QkFESixJQUFJOztBQUVqQixlQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztBQUN4QixZQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksWUFBWSxDQUFDO0FBQ25ELFlBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUM7QUFDbEMsWUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQztBQUNwQyxZQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUMsRUFBRSxDQUFDLENBQUM7QUFDekQsWUFBSSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMsYUFBYSxJQUFJLEtBQUssQ0FBQztBQUNwRCxZQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLElBQUksR0FBRyxDQUFDOzs7QUFHMUMsWUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDakIsWUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7OztBQUd2QixZQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUNuQixZQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNyQixZQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQzs7O0FBR25CLFlBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLFlBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFD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QyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUUsR0FBRyxNQUFNLEVBQUUsRUFBRSxFQUFHLEVBQUM7QUFDL0Qsb0JBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMxQixvQkFBRyxNQUFNLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQUM7QUFDL0Isd0JBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFDO0FBQzNGLDRCQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztxQkFDakM7aUJBQ0o7YUFDSjtTQUNKOzs7V0E1ZWdCLElBQUk7OztxQkFBSixJQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc291cmNlTWFuYWdlciBmcm9tICcuL1Jlc291cmNlTWFuYWdlcic7XHJcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL1JlbmRlcmVyJztcclxuaW1wb3J0IExhYmVsIGZyb20gJy4vTGFiZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSmVzdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBvcHRpb25zLmNhbnZhcyB8fCBcInBsYXlDYW52YXNcIjtcclxuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy53aWR0aCB8fCAzMjA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCAyNDA7XHJcbiAgICAgICAgdGhpcy5mcmFtZVJhdGUgPSBvcHRpb25zLmZyYW1lUmF0ZSB8fCBNYXRoLmNlaWwoMTAwMC82MCk7XHJcbiAgICAgICAgdGhpcy5zaG93RnJhbWVSYXRlID0gb3B0aW9ucy5zaG93RnJhbWVSYXRlIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhdGVOYW1lID0gb3B0aW9ucy5zdGF0ZU5hbWUgfHwgXCIwXCI7XHJcblxyXG4gICAgICAgIC8vIFN0YXRlIGluZm9cclxuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0ge307XHJcblxyXG4gICAgICAgIC8vIFJlbmRlciBzdHVmZlxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSB7fTtcclxuICAgICAgICB0aGlzLnJlbmRlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XHJcblxyXG4gICAgICAgIC8vIFRpbWluZ1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHt9O1xyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYWNjVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lU3RlcCA9IDE7XHJcblxyXG4gICAgICAgIC8vIGdhbWUgYm91bmRzXHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB7eDogMCwgeTogMCwgd2lkdGggOiB0aGlzLndpZHRoLCBoZWlnaHQgOiB0aGlzLmhlaWdodH07XHJcblxyXG4gICAgICAgIC8vIHVzZWQgdG8gc2hvdyB0aGUgZnBzXHJcbiAgICAgICAgdGhpcy5mcmFtZVJhdGVMYWJlbCA9IHt9O1xyXG5cclxuICAgICAgICAvLyBpbml0IHRoZSB1dGlsaXRpZXMgYW5kIHJlc291cmNlIG1hbmFnZXJcclxuICAgICAgICB0aGlzLnJlc291cmNlTWFuYWdlciA9IG5ldyBSZXNvdXJjZU1hbmFnZXIoKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdCBvZiBlbnRpdGllcyBpbiBhIHJlY2VudCBjb2xsaXNpb25cclxuICAgICAgICB0aGlzLmhpdEVudGl0aWVzID0gW107XHJcblxyXG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgaG93IG1hbnkgcGFydGljbGVzIHdlIGhhdmUgb24gc2NyZWVuXHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgSmVzdC5mcmFtZVJhdGUgPSB0aGlzLmZyYW1lUmF0ZTtcclxuICAgICAgICBKZXN0LmJvdW5kcyA9IHRoaXMuYm91bmRzO1xyXG4gICAgICAgIEplc3QucGFydGljbGVDb3VudCA9IHRoaXMucGFydGljbGVDb3VudDtcclxuICAgICAgICBKZXN0LnV0aWxpdGllcyA9IHRoaXMudXRpbGl0aWVzO1xyXG4gICAgICAgIEplc3Quc3RhdGVzID0gdGhpcy5zdGF0ZXM7XHJcbiAgICAgICAgSmVzdC5jdXJyZW50U3RhdGUgPSB0aGlzLmN1cnJlbnRTdGF0ZTtcclxuICAgICAgICBKZXN0LmZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgIEplc3Qua2V5cyA9IFtdO1xyXG4gICAgfVxyXG4gICAgICAgLyoqXHJcbiAgICAgKiBKZXN0LmxvYWQoKVxyXG4gICAgICpcclxuICAgICAqIHByZXBhcmVzIHRoZSBjYW52YXMgZm9yIHJlbmRlcmluZywgYW5kIHN0YXJ0cyB0aGUgdXBkYXRlIHByb2Nlc3NcclxuICAgICAqKi9cclxuICAgIGxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWRlZCggdGhpcyApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LmxvYWRlZCgpXHJcbiAgICAgKiBvYmplY3QgZXZlbnRcclxuICAgICAqIG1ha2VzIHN1cmUgZXZlcnl0aGluZyBpcyBsb2FkZWQgdW50aWwgY29udGludWluZ1xyXG4gICAgICoqL1xyXG4gICAgbG9hZGVkKGdhbWUpe1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZih0aGlzLnJlc291cmNlTWFuYWdlci5sb2FkaW5nQ29tcGxldGUpe1xyXG4gICAgICAgICAgICBnYW1lLmluaXQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgc2VsZi5sb2FkZWQoZ2FtZSk7IH0gLCAxMDApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LnVwZGF0ZSgpXHJcbiAgICAgKlxyXG4gICAgICogTWFpbiB1cGRhdGUgbG9vcCBmb3IgdGhlIGdhbWUsIHVwZGF0ZXMgYWxsIG9iamVjdHMsIGFuZCBjYWxscyB0aGUgcmVuZGVyZXIuXHJcbiAgICAgKiovXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB2YXIgY3VyVGltZSA9IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIHVwZGF0ZSA9IHRoaXMudXBkYXRlO1xyXG5cclxuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IGN1clRpbWUgLSB0aGlzLmxhc3RUaW1lO1xyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJUaW1lO1xyXG4gICAgICAgIHRoaXMuYWNjVGltZSArPSB0aGlzLmRlbHRhVGltZTtcclxuXHJcbiAgICAgICAgLy8gTGltaXQgdGhlIGRlbHRhIHF1ZWluZ1xyXG4gICAgICAgIGlmKHRoaXMuYWNjVGltZSA+IDYwKXtcclxuICAgICAgICAgICAgdGhpcy5hY2NUaW1lID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdoaWxlICh0aGlzLmFjY1RpbWUgPiB0aGlzLnRpbWVTdGVwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hY2NUaW1lIC09IHRoaXMudGltZVN0ZXA7XHJcbiAgICAgICAgICAgIHZhciBlbnRpdGllcyA9IHRoaXMuZW50aXRpZXMsXHJcbiAgICAgICAgICAgICAgICBlbnRMZW4gPSB0aGlzLmVudGl0aWVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlKGVudExlbi0tKXtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBlbnRpdGllc1tlbnRMZW5dO1xyXG4gICAgICAgICAgICAgICAgaWYob2JqZWN0ICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdC5saXZlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVwZGF0ZSh0aGlzLnRpbWVTdGVwIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdHkob2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVkcmF3KCk7XHJcbiAgICAgICAgdGhpcy5mcmFtZVJhdGVMYWJlbC50ZXh0ID0gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5kZWx0YVRpbWUpICsgXCIgZnBzXCI7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWVSYXRlID0gIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuZGVsdGFUaW1lKTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggZnVuY3Rpb24oKXtzZWxmLnVwZGF0ZSgpO30gKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSmVzdC5pbml0KClcclxuICAgICAqXHJcbiAgICAgKiBwcmVwYXJlcyB0aGUgY2FudmFzIGZvciByZW5kZXJpbmcsIGFuZCBzdGFydHMgdGhlIHVwZGF0ZSBwcm9jZXNzXHJcbiAgICAgKiovXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vIGJhc2UgZm9yIHN0YXJ0aW5nLCBwcmVzZXR1cCBlY3QuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMucmVuZGVyQ2FudmFzKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5yZW5kZXJDYW52YXMgPT09IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkaXNhYmxlIGRyYWdnaW5nXHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMuZHJhZ2dhYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGRldGVybWluZSBpZiB0aGUgZ2FtZSBoYXMgdGhlIGZvY3VzIG9yIG5vdFxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICAgICAgaWYoZXZlbnQudGFyZ2V0ICE9PSBzZWxmLnJlbmRlckNhbnZhcyl7XHJcbiAgICAgICAgICAgICAgICBKZXN0LmZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBKZXN0LmZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9fSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5yZW5kZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGV2ZW50KXtKZXN0LmZvY3VzZWQgPSB0cnVlOyBzZWxmLmNsaWNrZWQoZXZlbnQsc2VsZik7fSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe0plc3QuZm9jdXNlZCA9IHRydWU7IHNlbGYuY2xpY2tlZChldmVudCxzZWxmKTt9LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZlbnQpe3NlbGYubW91c2VNb3ZlKGV2ZW50LHNlbGYpO30sIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCl7c2VsZi5tb3VzZURvd24oZXZlbnQsc2VsZik7fSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbihldmVudCl7c2VsZi5tb3VzZVVwKGV2ZW50LHNlbGYpO30sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKTt9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIG1vdXNld2hlZWxcclxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcy5hZGRFdmVudExpc3RlbmVyIChcIm1vdXNld2hlZWxcIiwgZnVuY3Rpb24oZXZlbnQpe3NlbGYubW91c2VXaGVlbChldmVudCxzZWxmKTt9LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMuYWRkRXZlbnRMaXN0ZW5lciAoXCJET01Nb3VzZVNjcm9sbFwiLCBmdW5jdGlvbihldmVudCl7c2VsZi5tb3VzZVdoZWVsKGV2ZW50LHNlbGYpO30sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8ga2V5cHJlc3NcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihldmVudCl7aWYoSmVzdC5mb2N1c2VkKXtzZWxmLmtleURvd24oZXZlbnQsc2VsZik7fX0sIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24oZXZlbnQpe2lmKEplc3QuZm9jdXNlZCl7c2VsZi5rZXlVcChldmVudCxzZWxmKTt9fSwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5yZW5kZXJDYW52YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFN0YXRlKHRoaXMuc3RhdGVOYW1lKTtcclxuICAgICAgICB0aGlzLnN3aXRjaFN0YXRlKHsnaWQnIDogMH0pO1xyXG5cclxuICAgICAgICAvLyBzZXR1cCBhIGxhYmVsIHRvIGRpc3BsYXkgdGhlIGZyYW1lUmF0ZVxyXG4gICAgICAgIGlmKHRoaXMuc2hvd0ZyYW1lUmF0ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVSYXRlTGFiZWwgPSBuZXcgTGFiZWwoeyd0ZXh0JzonICcsIHg6MCx5OjMwLHo6MSwgJ2ZvbnQnOicxNHB0IGFyaWFsIGJvbGQnfSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRW50aXR5KHRoaXMuZnJhbWVSYXRlTGFiZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZVggPSAwO1xyXG4gICAgICAgIHRoaXMubW91c2VZID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxlZnREb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yaWdodERvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1pZERvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSmVzdC5nZXRLZXkoKVxyXG4gICAgICogcmV0dXJucyB0aGUgc3RhdGUgb2YgYSBrZXlcclxuICAgICAqKi9cclxuICAgIGdldEtleShrZXkpe1xyXG4gICAgICAgIC8vdG9kbzogYWRkIGxvZ2ljIHRvIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIGtleSwgZ2V0IHRoZSBrZXljb2RlIGJhc2VkIG9mZiBvZiB0aGVrZXkgcGFzc2VkXHJcbiAgICAgICAgcmV0dXJuIEplc3Qua2V5c1trZXldO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LmtleURvd24oKVxyXG4gICAgICogc2V0cyB0aGUgc3RhdGUgb2YgdGhlIGtleSBwcmVzc2VkIHRvIHRydWVcclxuICAgICAqKi9cclxuICAgIGtleURvd24oZXZlbnQsIHNlbGYpe1xyXG4gICAgICAgIEplc3Qua2V5c1tldmVudC5rZXlDb2RlXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEplc3Qua2V5VXAoKVxyXG4gICAgICogc2V0cyB0aGUgc3RhdGUgb2YgdGhlIGtleSBwcmVzc2VkIHRvIGZhbHNlXHJcbiAgICAgKiovXHJcbiAgICBrZXlVcChldmVudCwgc2VsZil7XHJcbiAgICAgICAgSmVzdC5rZXlzW2V2ZW50LmtleUNvZGVdID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEplc3QuY2xpY2tlZCgpXHJcbiAgICAgKiBvYmplY3QgZXZlbnRcclxuICAgICAqIGhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgY2FudmFzXHJcbiAgICAgKiBUT0RPIHVwZGF0ZSB0aGlzLCBJIGRvbnQgbGlrZSBob3cgaXQgcmVxdWlyZXMgb3JpZ2luIGFuZCBwb3NcclxuICAgICAqKi9cclxuICAgIGNsaWNrZWQoZXZlbnQsIHNlbGYpe1xyXG4gICAgICAgIHRoaXMuY1ggPSAwO1xyXG4gICAgICAgIHRoaXMuY1kgPSAwO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQucGFnZVggfHwgZXZlbnQucGFnZVkpIHtcclxuICAgICAgICAgICAgdGhpcy5jWCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICB0aGlzLmNZID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoZXZlbnQuY2hhbmdlZFRvdWNoZXMpe1xyXG4gICAgICAgICAgICB0aGlzLmNYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgICAgICAgIHRoaXMuY1kgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY1ggPSBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMuY1kgPSBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jWCAtPSBzZWxmLnJlbmRlckNhbnZhcy5vZmZzZXRMZWZ0O1xyXG4gICAgICAgIHRoaXMuY1kgLT0gc2VsZi5yZW5kZXJDYW52YXMub2Zmc2V0VG9wO1xyXG5cclxuICAgICAgICB2YXIgaWQgPSBzZWxmLmVudGl0aWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgZW50aXRpZXMgPSBzZWxmLmVudGl0aWVzO1xyXG5cclxuICAgICAgICB3aGlsZShpZC0tKXtcclxuICAgICAgICAgICAgdmFyIGVudGl0eSA9IGVudGl0aWVzW2lkXTtcclxuICAgICAgICAgICAgaWYoZW50aXR5LmNsaWNrYWJsZSAmJiBlbnRpdHkucG9zICYmIGVudGl0eS5vcmlnaW4pe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jWCA+IGVudGl0eS5wb3MueC1lbnRpdHkub3JpZ2luLnggJiYgdGhpcy5jWCA8IChlbnRpdHkucG9zLngtZW50aXR5Lm9yaWdpbi54KStlbnRpdHkud2lkdGggJiYgdGhpcy5jWSA+IGVudGl0eS5wb3MueS1lbnRpdHkub3JpZ2luLnkgJiYgdGhpcy5jWSA8IChlbnRpdHkucG9zLnktZW50aXR5Lm9yaWdpbi55KStlbnRpdHkuaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuY2xpY2tlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVudGl0eS5ub0NsaWNrVGhyb3VnaCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsnY2xpY2tYJyA6IHRoaXMuY1gsICdjbGlja1knIDogdGhpcy5jWX07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEplc3QubW91c2VNb3ZlKClcclxuICAgICAqIG9iamVjdCBldmVudFxyXG4gICAgICogaGFuZGxlcyB0aGUgbW91c2UgbW92ZSBldmVudFxyXG4gICAgICoqL1xyXG4gICAgbW91c2VNb3ZlKGV2ZW50LCBzZWxmKXtcclxuICAgICAgICBpZihldmVudC5wYWdlWCB8fGV2ZW50LnBhZ2VZKXtcclxuICAgICAgICAgICAgc2VsZi5tb3VzZVggPSBldmVudC5wYWdlWCAtIHNlbGYucmVuZGVyQ2FudmFzLm9mZnNldExlZnQ7XHJcbiAgICAgICAgICAgIHNlbGYubW91c2VZID0gZXZlbnQucGFnZVkgLSBzZWxmLnJlbmRlckNhbnZhcy5vZmZzZXRUb3A7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYubW91c2VYID0gKGV2ZW50LmNsaWVudFggKyBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgLSBkb2N1bWVudC5ib2R5LmNsaWVudExlZnQpIC0gc2VsZi5yZW5kZXJDYW52YXMub2Zmc2V0TGVmdDtcclxuICAgICAgICAgICAgc2VsZi5tb3VzZVkgPSAoZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICAtIGRvY3VtZW50LmJvZHkuY2xpZW50VG9wKSAtIHNlbGYucmVuZGVyQ2FudmFzLm9mZnNldFRvcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3VzZURvd24oZXZlbnQsIHNlbGYpe1xyXG4gICAgICAgIHNlbGYubW91c2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoJ3doaWNoJyBpbiBldmVudCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHNlbGYubGVmdERvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHNlbGYubWlkRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgc2VsZi5yaWdodERvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWRYID0gMDtcclxuICAgICAgICB0aGlzLm1kWSA9IDA7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5wYWdlWCB8fCBldmVudC5wYWdlWSkge1xyXG4gICAgICAgICAgICB0aGlzLm1kWCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1kWSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tZFggPSBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMubWRZID0gZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWRYIC09IHNlbGYucmVuZGVyQ2FudmFzLm9mZnNldExlZnQ7XHJcbiAgICAgICAgdGhpcy5tZFkgLT0gc2VsZi5yZW5kZXJDYW52YXMub2Zmc2V0VG9wO1xyXG5cclxuICAgICAgICB2YXIgaWQgPSBzZWxmLmVudGl0aWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgZW50aXRpZXMgPSBzZWxmLmVudGl0aWVzO1xyXG5cclxuICAgICAgICB3aGlsZShpZC0tKXtcclxuICAgICAgICAgICAgdmFyIGVudGl0eSA9IGVudGl0aWVzW2lkXTtcclxuICAgICAgICAgICAgaWYoZW50aXR5LmNsaWNrYWJsZSAmJiBlbnRpdHkucG9zICYmIGVudGl0eS5vcmlnaW4pe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tZFggPiBlbnRpdHkucG9zLngtZW50aXR5Lm9yaWdpbi54ICYmIHRoaXMubWRYIDwgKGVudGl0eS5wb3MueC1lbnRpdHkub3JpZ2luLngpK2VudGl0eS53aWR0aCAmJiB0aGlzLm1kWSA+IGVudGl0eS5wb3MueS1lbnRpdHkub3JpZ2luLnkgJiYgdGhpcy5tZFkgPCAoZW50aXR5LnBvcy55LWVudGl0eS5vcmlnaW4ueSkrZW50aXR5LmhlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Lm1vdXNlRG93bigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geydtb3VzZURvd25YJyA6IHRoaXMubWRYLCAnbW91c2VEb3duWScgOiB0aGlzLm1kWX07XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2ZW50LCBzZWxmKXtcclxuICAgICAgICBzZWxmLm1vdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYubGVmdERvd24gPSBmYWxzZTtcclxuICAgICAgICBzZWxmLm1pZERvd24gPSBmYWxzZTtcclxuICAgICAgICBzZWxmLnJpZ2h0RG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbW91c2VXaGVlbChldmVudCwgc2VsZil7XHJcbiAgICAgICAgdmFyIGRpciA9IDA7XHJcbiAgICAgICAgaWYgKCd3aGVlbERlbHRhJyBpbiBldmVudCkge1xyXG4gICAgICAgICAgICBpZihNYXRoLmFicyhldmVudC53aGVlbERlbHRhKSAtIGV2ZW50LndoZWVsRGVsdGEgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgZGlyID0gLTE7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZGlyID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmIChldmVudC5kZXRhaWwpIHtcclxuICAgICAgICAgICAgaWYoTWF0aC5hYnMoZXZlbnQuZGV0YWlsKSAtIGV2ZW50LmRldGFpbCA9PT0gMCl7XHJcbiAgICAgICAgICAgICAgICBkaXIgPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGRpciA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGlyO1xyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlcyBFbnRpdGllc1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSmVzdC5hZGRFbnRpdHkoKVxyXG4gICAgICogb2JqZWN0IGVudGl0eSwgcmVuZGVyRmFsc2UgYm9vbCwgc3RhdGUgb2JqZWN0XHJcbiAgICAgKiByZW5kZXJGYWxzZSA6IGNvbnRyb2xzIGlmIHRoZSBpdGVtIGlzIGFkZGVkIHRvIHRoZSByZW5kZXJlci4uIGlkayB0aGlzIGlzIGtpbmQgb2YgaGFjaywgYmFzaWNhbGx5IGl0cyBmb3IgdGhpbmdzIHlvdSB3YW50IGluIHRoZVxyXG4gICAgICogbWFpbiB1cGRhdGUgbG9vcCBidXQgZG9lc24ndCByZW5kZXIgYXQgYWxsLCBzbyBsaWtlIGEgY29udGFpbmVyXHJcbiAgICAgKiBzdGF0ZSB7bmFtZSA6IHN0cmluZywgT1IgaWQgOiBudW1iZXJ9OiBhbGxvd3MgeW91IHRvIHNwZWNpZnkgd2hhdCBzdGF0ZSB5b3Ugd2FudCB0byBhZGQgdGhlIGVudGl0eSB0bywgaWYgeW91IGRvbnQgc3BlY2lmeSBpdCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0YXRlXHJcbiAgICAgKiovXHJcbiAgICBhZGRFbnRpdHkob2JqZWN0LCByZW5kZXJGYWxzZSwgc3RhdGUpe1xyXG4gICAgICAgIC8vIGFkZCB0aGUgbGl2ZSBwcm9wIHNpbmNlIHRoZSByZW5kZXJlci91cGRhdGUgY2hvb3NlcyB0byBkaXNwbGF5IG9yIHVwZGF0ZSBiYXNlZCBvbiBpdFxyXG4gICAgICAgIGlmKCEoXCJsaXZlXCIgaW4gb2JqZWN0KSl7XHJcbiAgICAgICAgICAgIG9iamVjdC5saXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyRmFsc2UgPSByZW5kZXJGYWxzZTtcclxuXHJcbiAgICAgICAgaWYoc3RhdGUpe1xyXG4gICAgICAgICAgICB2YXIgZm91bmRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgaWYoZm91bmRTdGF0ZSl7XHJcbiAgICAgICAgICAgICAgICBmb3VuZFN0YXRlLmVudGl0eUxpc3QucHVzaChvYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnN0YXRlID0gZm91bmRTdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2gob2JqZWN0KTtcclxuICAgICAgICAgICAgb2JqZWN0LnN0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighcmVuZGVyRmFsc2Upe1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZFRvUmVuZGVyZXIob2JqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LnJlbW92ZUVudGl0eSgpXHJcbiAgICAgKiBvYmplY3QgZW50aXR5LCBzdGF0ZSBPYmplY3RcclxuICAgICAqIFJlbW92ZXMgYW4gZW50aXR5IGZyb20gdGhlIHVwZGF0ZSBjeWNsZSBhbmQgcmVuZGVyZXIsIHlvdSBjYW4gYWxzbyBzcGVjaWZ5IHRoZSBzdGF0ZSB5b3Ugd2FudCB0byByZW1vdmUgZnJvbVxyXG4gICAgICoqL1xyXG4gICAgcmVtb3ZlRW50aXR5KG9iamVjdCwgc3RhdGUpe1xyXG4gICAgICAgIHZhciBlbnRpdGllcyA9IHRoaXMuZW50aXRpZXMsXHJcbiAgICAgICAgICAgIG51bUVudGl0aWVzID0gZW50aXRpZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZihzdGF0ZSl7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZFN0YXRlID0gdGhpcy5nZXRTdGF0ZShzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICBpZihmb3VuZFN0YXRlKXtcclxuICAgICAgICAgICAgICAgIGVudGl0aWVzID0gZm91bmRTdGF0ZS5lbnRpdHlMaXN0O1xyXG4gICAgICAgICAgICAgICAgbnVtRW50aXRpZXMgPSBlbnRpdGllcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpdGVtID0gZW50aXRpZXMuaW5kZXhPZihvYmplY3QpO1xyXG5cclxuICAgICAgICBpZih0eXBlb2Ygb2JqZWN0LmtpbGwgIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBvYmplY3Qua2lsbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZW50aXRpZXMuc3BsaWNlKGl0ZW0sMSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlRnJvbVJlbmRlcmVyKG9iamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LmFkZFN0YXRlKClcclxuICAgICAqIG9iamVjdCBvcHRpb25zXHJcbiAgICAgKiB7bmFtZSA6IHN0cmluZ31cclxuICAgICAqIEFkZHMgYSBzdGF0ZSB0aGUgSmVzdCwgc3RhdGVzIGhvbGQgdGhlaXIgb3duIGVudGl0eSBsaXN0LCBhbmQgcmVuZGVyIGxpc3RcclxuICAgICAqKi9cclxuICAgIGFkZFN0YXRlKG5hbWUsIGVudGVyU3RhdGUsIGV4aXRTdGF0ZSl7XHJcbiAgICAgICAgdmFyIHN0YXRlT2JqID0ge307XHJcblxyXG4gICAgICAgIGlmKG5hbWUpe1xyXG4gICAgICAgICAgICBzdGF0ZU9iai5uYW1lID0gbmFtZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc3RhdGVPYmoubmFtZSA9IHRoaXMuc3RhdGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRlT2JqLmVudGVyU3RhdGUgPSBlbnRlclN0YXRlIHx8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy8gYXNzaWduIGl0IHRoZSBuZXh0IHZhbFxyXG4gICAgICAgIHN0YXRlT2JqLmlkID0gdGhpcy5zdGF0ZXMubGVuZ3RoO1xyXG4gICAgICAgIHN0YXRlT2JqLnJlbmRlckxpc3QgPSBbXTtcclxuICAgICAgICBzdGF0ZU9iai5lbnRpdHlMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5zdGF0ZXMucHVzaChzdGF0ZU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LmdldFN0YXRlKClcclxuICAgICAqIG9iamVjdCBvcHRpb25zXHJcbiAgICAgKiB7bmFtZSA6IHN0cmluZywgaWQgOiBudW1iZXJ9XHJcbiAgICAgKiBGaW5kcyBhbmQgcmV0dXJucyB0aGUgc3RhdGVcclxuICAgICAqKi9cclxuICAgIGdldFN0YXRlKG9wdGlvbnMpe1xyXG4gICAgICAgIHZhciBmb3VuZFN0YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmKFwiaWRcIiBpbiBvcHRpb25zKXtcclxuICAgICAgICAgICAgZm91bmRTdGF0ZSA9IHRoaXMuc3RhdGVzW29wdGlvbnMuaWRdO1xyXG4gICAgICAgIH1lbHNlIGlmKFwibmFtZVwiIGluIG9wdGlvbnMpe1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gb3B0aW9ucy5uYW1lO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnN0YXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlc1tpXS5uYW1lID09PSBzdGF0ZU5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kU3RhdGUgPSB0aGlzLnN0YXRlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZvdW5kU3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LnN3aXRjaFN0YXRlKClcclxuICAgICAqIG9iamVjdCBvcHRpb25zXHJcbiAgICAgKiB7bmFtZSA6IHN0cmluZywgaWQgOiBudW1iZXJ9XHJcbiAgICAgKiBBZGRzIGEgc3RhdGUgdGhlIEplc3QsIHN0YXRlcyBob2xkIHRoZWlyIG93biBlbnRpdHkgbGlzdCwgYW5kIHJlbmRlciBsaXN0XHJcbiAgICAgKiovXHJcbiAgICBzd2l0Y2hTdGF0ZShvcHRpb25zKXtcclxuICAgICAgICB2YXIgZm91bmRTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUob3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHRocm93IGluIGEgZGVidWcgaWYgdGhlIHN0YXRlIGhhc24ndCBiZWVuIGZvdW5kXHJcbiAgICAgICAgaWYoZm91bmRTdGF0ZSl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuZXhpdFRyYW5zaXRpb24gJiYgIW9wdGlvbnMuZXhpdENvbXBsZXRlKXtcclxuICAgICAgICAgICAgICAgIC8vIHBlcmZvcm0gZXhpdCB0cmFuc2l0aW9uIGlmIG9uZSBleGlzdHNcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZXhpdENvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEdhbWUuYWRkRW50aXR5KG5ldyBKZXN0LlRyYW5zaXRpb24ob3B0aW9ucy5leGl0VHJhbnNpdGlvbiwgZnVuY3Rpb24oKXtHYW1lLnN3aXRjaFN0YXRlKG9wdGlvbnMpO30pKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggdGhlIHJlbmRlciBsaXN0LCBhbmQgdGhlIGVudGl0eSBsaXN0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGZvdW5kU3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlckxpc3QgPSB0aGlzLmN1cnJlbnRTdGF0ZS5yZW5kZXJMaXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMuY3VycmVudFN0YXRlLmVudGl0eUxpc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YXRlIGhhcyBhbiBlbnRlciBzdGF0ZSBmdW5jdGlvbiBjYWxsIGl0XHJcbiAgICAgICAgICAgICAgICBpZihmb3VuZFN0YXRlLmVudGVyU3RhdGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kU3RhdGUuZW50ZXJTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gZW50ZXIgdHJhbnNpdGlvbiBpZiBvbmUgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmVudGVyVHJhbnNpdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZS5hZGRFbnRpdHkobmV3IEplc3QuVHJhbnNpdGlvbihvcHRpb25zLmVudGVyVHJhbnNpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBKZXN0LmNoZWNrSGl0KHgseSlcclxuICAgICAqIHgseSBudW1iZXJcclxuICAgICAqIENoZWNrcyBhbGwgdGhlIGVudGl0aWVzIHRvIHNlZSBpZiB0aGV5IHdlcmUgaGl0IGJ5IHRoZSBjb29yZHMuIFZlcnkgZXhwZW5zaXZlIHJpZ2h0IG5vdyBkZWZpbml0bHkgbmVlZCB0byBjbGVhbiBpdCB1cFxyXG4gICAgICoqL1xyXG4gICAgY2hlY2tIaXQoeCx5KXtcclxuICAgICAgICB2YXIgbnVtRW50aXRpZXMgPSB0aGlzLmVudGl0aWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgZW50aXRpZXMgPSB0aGlzLmVudGl0aWVzO1xyXG5cclxuICAgICAgICB0aGlzLmhpdEVudGl0aWVzID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGlkICA9IDAsZW50TGVuID0gdGhpcy5lbnRpdGllcy5sZW5ndGg7IGlkIDwgZW50TGVuOyBpZCArKyl7XHJcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBlbnRpdGllc1tpZF07XHJcbiAgICAgICAgICAgIGlmKG9iamVjdC5saXZlICYmIG9iamVjdC5jbGlja2FibGUpe1xyXG4gICAgICAgICAgICAgICAgaWYoeCA+IG9iamVjdC54ICYmIHggPCBvYmplY3QueCArIG9iamVjdC53aWR0aCAmJiB5ID4gb2JqZWN0LnkgJiYgeSA8IG9iamVjdC55ICsgb2JqZWN0LmhlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXRFbnRpdGllcy5wdXNoKG9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBEOi94YW1wcC9odGRvY3MvUHJvamVjdHMvamVzdC9lczIwMTUvaW5kZXguanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiIyLmpzIn0=");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _es2015Sprite = __webpack_require__(4);\n\nvar _es2015Sprite2 = _interopRequireDefault(_es2015Sprite);\n\nvar _es2015Vector = __webpack_require__(5);\n\nvar _es2015Vector2 = _interopRequireDefault(_es2015Vector);\n\nvar TestSprite = (function (_Sprite) {\n    _inherits(TestSprite, _Sprite);\n\n    function TestSprite(options) {\n        _classCallCheck(this, TestSprite);\n\n        _get(Object.getPrototypeOf(TestSprite.prototype), 'constructor', this).call(this, options);\n\n        this.width = 32;\n        this.height = 32;\n        this.shape = true;\n        this.color = { r: 255, g: 0, b: 0, a: 255 };\n    }\n\n    return TestSprite;\n})(_es2015Sprite2['default']);\n\nexports['default'] = TestSprite;\n;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXhhbXBsZXMvYW5pbWF0ZWQgc3ByaXRlcy9UZXN0U3ByaXRlLmpzP2RjYWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7d0NBQW1CLENBQXFCOzs7O3dDQUNyQixDQUFxQjs7OztJQUVuQixVQUFVO2NBQVYsVUFBVTs7QUFDaEIsYUFETSxVQUFVLENBQ2YsT0FBTyxFQUFDOzhCQURILFVBQVU7O0FBRXZCLG1DQUZhLFVBQVUsNkNBRWpCLE9BQU8sRUFBQzs7QUFFZCxZQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNoQixZQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNqQixZQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNsQixZQUFJLENBQUMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBQyxDQUFDO0tBQzdDOztXQVJnQixVQUFVOzs7cUJBQVYsVUFBVTtBQVM5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNwcml0ZSBmcm9tICcuLi8uLi9lczIwMTUvU3ByaXRlJztcclxuaW1wb3J0IFZlY3RvciBmcm9tICcuLi8uLi9lczIwMTUvVmVjdG9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3RTcHJpdGUgZXh0ZW5kcyBTcHJpdGV7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcclxuICAgICAgICBzdXBlcihvcHRpb25zKSAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IDMyO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMzI7XHJcbiAgICAgICAgdGhpcy5zaGFwZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IHtyOiAyNTUsIGc6IDAsIGI6IDAsIGE6IDI1NX07XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIEQ6L3hhbXBwL2h0ZG9jcy9Qcm9qZWN0cy9qZXN0L2V4YW1wbGVzL2FuaW1hdGVkIHNwcml0ZXMvVGVzdFNwcml0ZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjMuanMifQ==");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _Vector = __webpack_require__(5);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar Sprite = (function () {\n    function Sprite(options) {\n        _classCallCheck(this, Sprite);\n\n        options = options || {};\n        this.width = options.width || 32;\n        this.height = options.height || 32;\n\n        // Set the position\n        this.pos = options.pos || { x: 0, y: 0, z: 0 };\n        if (options.x && options.y) {\n            var z = 0;\n            if (options.z) {\n                z = options.z;\n            }\n            this.pos = new _Vector2['default'](options.x, options.y, z);\n        } else if (options.pos) {\n            this.pos = options.pos;\n        } else {\n            this.pos = new _Vector2['default'](0, 0, 0);\n        }\n\n        // Set drawing origin\n        this.origin = options.origin || { x: 0, y: 0, z: 0 };\n        if (options.ox && options.oy) {\n            var oz = 0;\n            if (options.oz) {\n                oz = options.oz;\n            }\n            this.origin = new _Vector2['default'](options.ox, options.oy, oz);\n        } else if (options.origin) {\n            this.origin = options.origin;\n        } else {\n            this.origin = new _Vector2['default'](0, 0, 0);\n        }\n\n        // Set an initial velocity\n        this.vel = options.vel || { x: 0, y: 0, z: 0 };\n        if (options.vx && options.vy) {\n            var vz = 0;\n            if (options.vz) {\n                vz = options.vz;\n            }\n            this.vel = new _Vector2['default'](options.vx, options.vy, vz);\n        } else if (options.vel) {\n            this.vel = options.vel;\n        } else {\n            this.vel = new _Vector2['default'](0, 0, 0);\n        }\n\n        // StartX and StartY are used for animated sprites to determine which frame to show\n        this.startX = options.startX || 0;\n        this.startY = options.startY || 0;\n\n        this.tileable = options.tileable || false;\n        if (this.tileable) {\n            this.endX = options.endX || this.width;\n            this.endY = options.endY || this.height;\n        }\n\n        // If theres not a resource specified we just assume its going to be a rect\n        if (options.resource === undefined) {\n            this.shape = true;\n            this.resource = {};\n        } else {\n            this.shape = false;\n            this.resource = options.resource;\n        }\n\n        this.angle = options.angle || 0;\n        this.thrust = options.thrust || 0;\n        this.color = options.color || { r: 255, g: 255, b: 255 };\n        this.alpha = 255;\n        this.clickable = options.clickable || false;\n\n        // for referencing a list of entities or sprites its a part of\n        if (options.list && options.list.length != 'undefined') {\n            this.list = options.list;\n            this.list.push(this);\n        } else {\n            this.list = [];\n        }\n\n        // required properties\n        this.visible = true;\n\n        this.animations = [];\n        this.curAnim = { name: \"\", frames: 0 };\n        this.isAnimating = false;\n\n        this.lastAnim = 0;\n        this.animSpeed = 0;\n\n        this.x = this.pos.x;\n        this.y = this.pos.y;\n\n        this.live = true;\n    }\n\n    // Handles updating the sprite\n\n    _createClass(Sprite, [{\n        key: 'update',\n        value: function update(deltaTime) {\n            if (this.isAnimating) {\n                if (new Date().getTime() > this.lastAnim + this.animSpeed) {\n                    this.lastAnim = new Date().getTime();\n                    this.startX = this.width * this.curAnim.frames[this.frame];\n                    this.frame++;\n                    if (this.frame > this.curAnim.frames.length - 1) {\n                        // stop if its a one shot animation\n                        if (this.animType !== 1) {\n                            this.isAnimating = false;\n                        } else {\n                            this.frame = 0;\n                        }\n                    }\n                }\n            }\n        }\n\n        // Add animation sequences for animated sprites\n    }, {\n        key: 'addAnimation',\n        value: function addAnimation(sequence, sequenceName) {\n            var aniSequence = { name: sequenceName, frames: sequence };\n            this.animations.push(aniSequence);\n        }\n\n        /** Play animation sequence\r\n         * sequenceName - name of prev added sequence\r\n         * animSpeed - milliseconds between frames\r\n         * animType - 0/null/undefined = play sequence full once, 1 = play until stopped\r\n        **/\n    }, {\n        key: 'playAnimation',\n        value: function playAnimation(sequenceName, animSpeed, animType) {\n            for (var i = 0, len = this.animations.length; i < len; i++) {\n                var curAnim = this.animations[i];\n                if (curAnim.name === sequenceName) {\n                    this.curAnim = curAnim;\n                    this.animSpeed = animSpeed;\n                    if (typeof animType == 'undefined') {\n                        this.animType = 0;\n                    } else {\n                        this.animType = animType;\n                    }\n                    this.frame = 0;\n                    this.isAnimating = true;\n                }\n            }\n        }\n    }, {\n        key: 'stopAnimation',\n        value: function stopAnimation() {\n            if (this.isAnimating) {\n                this.isAnimating = false;\n                this.curAnim = { name: \"\", frames: 0 };\n            }\n        }\n\n        // Check for collisions\n    }, {\n        key: 'checkCollision',\n        value: function checkCollision(x, y) {}\n\n        // Change the frame to a specific one\n    }, {\n        key: 'changeFrame',\n        value: function changeFrame(frame) {\n            this.startX = frame * this.width;\n        }\n    }, {\n        key: 'kill',\n        value: function kill() {\n            // do something before its \"dead\"\n            if (this.list.length > 0) {\n                var listItem = this.list.length,\n                    list = this.list,\n                    item = list.indexOf(this);\n\n                if (item) {\n                    list.splice(item, 1);\n                }\n            }\n        }\n\n        // Draw\n    }, {\n        key: 'render',\n        value: function render(context) {\n            context.save();\n            if (!this.shape) {\n\n                // render to the nearest full pixel\n                var cX = 0.5 + (this.pos.x - this.origin.x) << 0,\n                    cY = 0.5 + (this.pos.y - this.origin.y) << 0;\n\n                context.drawImage(this.resource.source, this.startX, this.startY, this.width, this.height, cX, cY, this.width, this.height);\n            } else {\n                var color = this.color;\n                context.fillStyle = \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + this.alpha + \")\";\n                context.fillRect(this.pos.x - this.origin.x, this.pos.y - this.origin.y, this.width, this.height);\n            }\n            context.restore();\n        }\n    }, {\n        key: 'clicked',\n        value: function clicked() {\n            // Object was clicked do some stuff brah\n        }\n    }, {\n        key: 'mouseDown',\n        value: function mouseDown() {\n            // Object was mousedDown on do some stuff brah\n        }\n    }]);\n\n    return Sprite;\n})();\n\nexports['default'] = Sprite;\n;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L1Nwcml0ZS5qcz9kZTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztrQ0FBbUIsQ0FBVTs7OztJQUVSLE1BQU07QUFDWixhQURNLE1BQU0sQ0FDWCxPQUFPLEVBQUU7OEJBREosTUFBTTs7QUFFbkIsZUFBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDeEIsWUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztBQUNqQyxZQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDOzs7QUFHbkMsWUFBSSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxJQUFJLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztBQUMxQyxZQUFHLE9BQU8sQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLENBQUMsRUFBQztBQUN0QixnQkFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1YsZ0JBQUcsT0FBTyxDQUFDLENBQUMsRUFBQztBQUNULGlCQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUNqQjtBQUNELGdCQUFJLENBQUMsR0FBRyxHQUFHLHdCQUFXLE9BQU8sQ0FBQyxDQUFDLEVBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUNoRCxNQUFLLElBQUcsT0FBTyxDQUFDLEdBQUcsRUFBQztBQUNqQixnQkFBSSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO1NBQzFCLE1BQUk7QUFDRCxnQkFBSSxDQUFDLEdBQUcsR0FBRyx3QkFBVyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hDOzs7QUFHRCxZQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8s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LHFCQUFFOztTQUVWOzs7V0EzTGdCLE1BQU07OztxQkFBTixNQUFNO0FBNEwxQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3Rvcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGV7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgMzI7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCAzMjtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMucG9zID0gb3B0aW9ucy5wb3MgfHwge3g6MCwgeTowLCB6OjB9O1xyXG4gICAgICAgIGlmKG9wdGlvbnMueCAmJiBvcHRpb25zLnkpe1xyXG4gICAgICAgICAgICB2YXIgeiA9IDA7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMueil7XHJcbiAgICAgICAgICAgICAgICB6ID0gb3B0aW9ucy56O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucG9zID0gbmV3IFZlY3RvcihvcHRpb25zLngsb3B0aW9ucy55LHopO1xyXG4gICAgICAgIH1lbHNlIGlmKG9wdGlvbnMucG9zKXtcclxuICAgICAgICAgICAgdGhpcy5wb3MgPSBvcHRpb25zLnBvcztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yKDAsMCwwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBkcmF3aW5nIG9yaWdpblxyXG4gICAgICAgIHRoaXMub3JpZ2luID0gb3B0aW9ucy5vcmlnaW4gfHwge3g6MCwgeTowLCB6OjB9O1xyXG4gICAgICAgIGlmKG9wdGlvbnMub3ggJiYgb3B0aW9ucy5veSl7XHJcbiAgICAgICAgICAgIHZhciBveiA9IDA7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMub3ope1xyXG4gICAgICAgICAgICAgICAgb3ogPSBvcHRpb25zLm96O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luID0gbmV3IFZlY3RvcihvcHRpb25zLm94LG9wdGlvbnMub3ksb3opO1xyXG4gICAgICAgIH1lbHNlIGlmKG9wdGlvbnMub3JpZ2luKXtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW4gPSBvcHRpb25zLm9yaWdpbjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgVmVjdG9yKDAsMCwwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBhbiBpbml0aWFsIHZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy52ZWwgPSBvcHRpb25zLnZlbCB8fCB7eDowLCB5OjAsIHo6MH07XHJcbiAgICAgICAgaWYob3B0aW9ucy52eCAmJiBvcHRpb25zLnZ5KXtcclxuICAgICAgICAgICAgdmFyIHZ6ID0gMDtcclxuICAgICAgICAgICAgaWYob3B0aW9ucy52eil7XHJcbiAgICAgICAgICAgICAgICB2eiA9IG9wdGlvbnMudno7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy52ZWwgPSBuZXcgVmVjdG9yKG9wdGlvbnMudngsb3B0aW9ucy52eSx2eik7XHJcbiAgICAgICAgfWVsc2UgaWYob3B0aW9ucy52ZWwpe1xyXG4gICAgICAgICAgICB0aGlzLnZlbCA9IG9wdGlvbnMudmVsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnZlbCA9IG5ldyBWZWN0b3IoMCwwLDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RhcnRYIGFuZCBTdGFydFkgYXJlIHVzZWQgZm9yIGFuaW1hdGVkIHNwcml0ZXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGZyYW1lIHRvIHNob3dcclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IG9wdGlvbnMuc3RhcnRYIHx8IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSBvcHRpb25zLnN0YXJ0WSB8fCAwO1xyXG5cclxuICAgICAgICB0aGlzLnRpbGVhYmxlID0gb3B0aW9ucy50aWxlYWJsZSB8fCBmYWxzZTtcclxuICAgICAgICBpZih0aGlzLnRpbGVhYmxlKXtcclxuICAgICAgICAgICAgdGhpcy5lbmRYID0gb3B0aW9ucy5lbmRYIHx8IHRoaXMud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kWSA9IG9wdGlvbnMuZW5kWSB8fCB0aGlzLmhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlcyBub3QgYSByZXNvdXJjZSBzcGVjaWZpZWQgd2UganVzdCBhc3N1bWUgaXRzIGdvaW5nIHRvIGJlIGEgcmVjdFxyXG4gICAgICAgIGlmKG9wdGlvbnMucmVzb3VyY2UgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0ge307XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG9wdGlvbnMucmVzb3VyY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZSB8fCAwO1xyXG4gICAgICAgIHRoaXMudGhydXN0ID0gb3B0aW9ucy50aHJ1c3QgfHwgMDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCB7cjoyNTUsZzoyNTUsYjoyNTV9O1xyXG4gICAgICAgIHRoaXMuYWxwaGEgPSAyNTU7XHJcbiAgICAgICAgdGhpcy5jbGlja2FibGUgPSBvcHRpb25zLmNsaWNrYWJsZSB8fCBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZm9yIHJlZmVyZW5jaW5nIGEgbGlzdCBvZiBlbnRpdGllcyBvciBzcHJpdGVzIGl0cyBhIHBhcnQgb2ZcclxuICAgICAgICBpZihvcHRpb25zLmxpc3QgJiYgb3B0aW9ucy5saXN0Lmxlbmd0aCAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IG9wdGlvbnMubGlzdDtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnB1c2godGhpcyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVxdWlyZWQgcHJvcGVydGllc1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VyQW5pbSA9IHtuYW1lIDogXCJcIiwgZnJhbWVzIDogMH07XHJcbiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RBbmltID0gMDtcclxuICAgICAgICB0aGlzLmFuaW1TcGVlZCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IHRoaXMucG9zLng7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5wb3MueTtcclxuXHJcbiAgICAgICAgdGhpcy5saXZlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIEhhbmRsZXMgdXBkYXRpbmcgdGhlIHNwcml0ZVxyXG4gICAgdXBkYXRlKGRlbHRhVGltZSl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuaW1hdGluZyl7XHJcbiAgICAgICAgICAgIGlmKG5ldyBEYXRlKCkuZ2V0VGltZSgpID4gdGhpcy5sYXN0QW5pbSArIHRoaXMuYW5pbVNwZWVkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFuaW0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRYICA9IHRoaXMud2lkdGggKiB0aGlzLmN1ckFuaW0uZnJhbWVzW3RoaXMuZnJhbWVdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5mcmFtZSA+IHRoaXMuY3VyQW5pbS5mcmFtZXMubGVuZ3RoLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgaWYgaXRzIGEgb25lIHNob3QgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5hbmltVHlwZSAhPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQWRkIGFuaW1hdGlvbiBzZXF1ZW5jZXMgZm9yIGFuaW1hdGVkIHNwcml0ZXNcclxuICAgIGFkZEFuaW1hdGlvbihzZXF1ZW5jZSwgc2VxdWVuY2VOYW1lKXtcclxuICAgICAgICB2YXIgYW5pU2VxdWVuY2UgPSB7bmFtZSA6IHNlcXVlbmNlTmFtZSwgZnJhbWVzIDogc2VxdWVuY2V9O1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaVNlcXVlbmNlKTtcclxuICAgIH1cclxuICAgIC8qKiBQbGF5IGFuaW1hdGlvbiBzZXF1ZW5jZVxyXG4gICAgICogc2VxdWVuY2VOYW1lIC0gbmFtZSBvZiBwcmV2IGFkZGVkIHNlcXVlbmNlXHJcbiAgICAgKiBhbmltU3BlZWQgLSBtaWxsaXNlY29uZHMgYmV0d2VlbiBmcmFtZXNcclxuICAgICAqIGFuaW1UeXBlIC0gMC9udWxsL3VuZGVmaW5lZCA9IHBsYXkgc2VxdWVuY2UgZnVsbCBvbmNlLCAxID0gcGxheSB1bnRpbCBzdG9wcGVkXHJcbiAgICAqKi9cclxuICAgIHBsYXlBbmltYXRpb24oc2VxdWVuY2VOYW1lLCBhbmltU3BlZWQsIGFuaW1UeXBlKXtcclxuICAgICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgY3VyQW5pbSA9IHRoaXMuYW5pbWF0aW9uc1tpXTtcclxuICAgICAgICAgICAgaWYoY3VyQW5pbS5uYW1lID09PSBzZXF1ZW5jZU5hbWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJBbmltID0gY3VyQW5pbTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbVNwZWVkID0gYW5pbVNwZWVkO1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGFuaW1UeXBlID09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1UeXBlID0gMDtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbVR5cGUgPSBhbmltVHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdG9wQW5pbWF0aW9uKCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuaW1hdGluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jdXJBbmltID0ge25hbWUgOiBcIlwiLCBmcmFtZXMgOiAwfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBmb3IgY29sbGlzaW9uc1xyXG4gICAgY2hlY2tDb2xsaXNpb24oeCwgeSl7XHJcbiAgICB9XHJcbiAgICAvLyBDaGFuZ2UgdGhlIGZyYW1lIHRvIGEgc3BlY2lmaWMgb25lXHJcbiAgICBjaGFuZ2VGcmFtZShmcmFtZSl7XHJcbiAgICAgICAgdGhpcy5zdGFydFggPSBmcmFtZSp0aGlzLndpZHRoO1xyXG4gICAgfVxyXG4gICAga2lsbCgpe1xyXG4gICAgICAgIC8vIGRvIHNvbWV0aGluZyBiZWZvcmUgaXRzIFwiZGVhZFwiXHJcbiAgICAgICAgaWYodGhpcy5saXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzLmxpc3QubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbGlzdCA9IHRoaXMubGlzdCxcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBsaXN0LmluZGV4T2YodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBpZihpdGVtKXtcclxuICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGl0ZW0sMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBEcmF3XHJcbiAgICByZW5kZXIoY29udGV4dCl7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgaWYoIXRoaXMuc2hhcGUpe1xyXG5cclxuICAgICAgICAgICAgLy8gcmVuZGVyIHRvIHRoZSBuZWFyZXN0IGZ1bGwgcGl4ZWxcclxuICAgICAgICAgICAgdmFyIGNYID0gKDAuNSArICh0aGlzLnBvcy54LXRoaXMub3JpZ2luLngpKSA8PCAwLFxyXG4gICAgICAgICAgICAgICAgY1kgPSAoMC41ICsgKHRoaXMucG9zLnktdGhpcy5vcmlnaW4ueSkpIDw8IDA7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLnJlc291cmNlLnNvdXJjZSwgdGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgY1gsIGNZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJyZ2JhKFwiICsgY29sb3IuciArIFwiLFwiICsgY29sb3IuZyArIFwiLFwiICsgY29sb3IuYiArIFwiLFwiICsgdGhpcy5hbHBoYSArIFwiKVwiO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHRoaXMucG9zLnggLSB0aGlzLm9yaWdpbi54LCB0aGlzLnBvcy55IC0gdGhpcy5vcmlnaW4ueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIH1cclxuICAgIGNsaWNrZWQoKXtcclxuICAgICAgICAvLyBPYmplY3Qgd2FzIGNsaWNrZWQgZG8gc29tZSBzdHVmZiBicmFoXHJcbiAgICB9XHJcbiAgICBtb3VzZURvd24oKXtcclxuICAgICAgICAvLyBPYmplY3Qgd2FzIG1vdXNlZERvd24gb24gZG8gc29tZSBzdHVmZiBicmFoXHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIEQ6L3hhbXBwL2h0ZG9jcy9Qcm9qZWN0cy9qZXN0L2VzMjAxNS9TcHJpdGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI0LmpzIn0=");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Vector = (function () {\n    function Vector(x, y, z) {\n        _classCallCheck(this, Vector);\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        var copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            this.z = v.z;\n        },\n            add = function add(v) {\n            this.x += v.x;\n            this.y += v.y;\n            this.z += v.z;\n        },\n            sub = function sub(v) {\n            this.x -= v.x;\n            this.y -= v.y;\n            this.z -= v.z;\n        },\n            cross = function cross(v) {\n            this.tx = this.x;\n            this.ty = this.y;\n            this.tz = this.z;\n\n            this.x = this.ty * v.z - this.tz * v.y;\n            this.y = this.tz * v.x - this.tx * v.z;\n            this.z = this.tx * v.y - this.ty * v.x;\n        },\n            multiply = function multiply(s) {\n            this.x *= s;\n            this.y *= s;\n            this.z *= s;\n        },\n            distanceTo = function distanceTo(v) {\n            this.dx = this.x - v.x;\n            this.dy = this.y - v.y;\n            this.dz = this.z - v.z;\n\n            return Math.sqrt(this.dx * this.dx + this.dy * this.dy + this.dz * this.dz);\n        },\n            distanceToSquared = function distanceToSquared(v) {\n            this.dx = this.x - v.x;\n            this.dy = this.y - v.y;\n            this.dz = this.z - v.z;\n\n            return this.dx * this.dx + this.dy * this.dy + this.dz * this.dz;\n        },\n            length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n        },\n            lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y + this.z * this.z;\n        },\n            negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n        },\n            dot = function dot(v) {\n            return this.x * v.x + this.y * v.y + this.z * v.z;\n        },\n            clone = function clone() {\n            return new Vector(this.x, this.y, this.z);\n        },\n            toString = function toString() {\n            return '(' + this.x + ', ' + this.y + ', ' + this.z + ')';\n        };\n    }\n\n    _createClass(Vector, [{\n        key: 'add',\n        value: function add(a, b) {\n            return new Vector(a.x + b.x, a.y + b.y, a.z + b.z);\n        }\n    }, {\n        key: 'sub',\n        value: function sub(a, b) {\n            return new Vector(a.x - b.x, a.y - b.y, a.z - b.z);\n        }\n    }, {\n        key: 'negate',\n        value: function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n        }\n    }, {\n        key: 'multiply',\n        value: function multiply(a, s) {\n            return new Vector(a.x * s, a.y * s, a.z * s);\n        }\n    }, {\n        key: 'cross',\n        value: function cross(a, b) {\n            return new Vector(a.y * b.z - a.z * b.y, a.z * b.x - a.x * b.z, a.x * b.y - a.y * b.x);\n        }\n    }, {\n        key: 'dot',\n        value: function dot(v) {\n            return this.x * v.x + this.y * v.y + this.z * v.z;\n        }\n    }, {\n        key: 'distance',\n        value: function distance(a, b) {\n            var dx = a.x - b.x,\n                dy = a.y - b.y,\n                dz = a.z - b.z;\n\n            return Math.sqrt(dx * dx + dy * dy + dz * dz);\n        }\n    }, {\n        key: 'length',\n        value: function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n        }\n    }, {\n        key: 'mulScale',\n        value: function mulScale(a, b) {\n            return new Vector(this.x * b, this.y * b, this.z * b);\n        }\n    }, {\n        key: 'normalize',\n        value: function normalize() {\n            if (this.length() > 0) this.ool = 1.0 / this.length();else this.ool = 0;\n\n            this.x *= this.ool;\n            this.y *= this.ool;\n            this.z *= this.ool;\n            return this;\n        }\n    }]);\n\n    return Vector;\n})();\n\nexports['default'] = Vector;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L1ZlY3Rvci5qcz84ZjUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUIsTUFBTTtBQUNaLGFBRE0sTUFBTSxDQUNYLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDOzhCQURILE1BQU07O0FBRW5CLFlBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1gsWUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDWCxZQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFWCxZQUFJLElBQUksR0FBRyxTQUFQLElBQUksQ0FBWSxDQUFDLEVBQUM7QUFDbEIsZ0JBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNiLGdCQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDYixnQkFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1lBQ0QsR0FBRyxHQUFHLFNBQU4sR0FBRyxDQUFZLENBQUMsRUFBQztBQUNiLGdCQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDZCxnQkFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2QsZ0JBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQjtZQUNELEdBQUcsR0FBRyxTQUFOLEdBQUcsQ0FBWSxDQUFDLEVBQUM7QUFDYixnQkFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2QsZ0JBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNkLGdCQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakI7WUFDRCxLQUFLLEdBQUcsU0FBUixLQUFLLENBQVksQ0FBQyxFQUFD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bkIsZ0JBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUNuQixtQkFBTyxJQUFJLENBQUM7U0FDZjs7O1dBakhnQixNQUFNOzs7cUJBQU4sTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvcntcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHope1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnogPSB6O1xyXG5cclxuICAgICAgICBsZXQgY29weSA9IGZ1bmN0aW9uKHYpe1xyXG4gICAgICAgICAgICB0aGlzLnggPSB2Lng7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHYueTtcclxuICAgICAgICAgICAgdGhpcy56ID0gdi56O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkID0gZnVuY3Rpb24odil7XHJcbiAgICAgICAgICAgIHRoaXMueCArPSB2Lng7XHJcbiAgICAgICAgICAgIHRoaXMueSArPSB2Lnk7XHJcbiAgICAgICAgICAgIHRoaXMueiArPSB2Lno7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWIgPSBmdW5jdGlvbih2KXtcclxuICAgICAgICAgICAgdGhpcy54IC09IHYueDtcclxuICAgICAgICAgICAgdGhpcy55IC09IHYueTtcclxuICAgICAgICAgICAgdGhpcy56IC09IHYuejtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyb3NzID0gZnVuY3Rpb24odil7XHJcbiAgICAgICAgICAgIHRoaXMudHggPSB0aGlzLng7XHJcbiAgICAgICAgICAgIHRoaXMudHkgPSB0aGlzLnk7XHJcbiAgICAgICAgICAgIHRoaXMudHogPSB0aGlzLno7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLnR5ICogdi56IC0gdGhpcy50eiAqIHYueTtcclxuICAgICAgICAgICAgdGhpcy55ID0gdGhpcy50eiAqIHYueCAtIHRoaXMudHggKiB2Lno7XHJcbiAgICAgICAgICAgIHRoaXMueiA9IHRoaXMudHggKiB2LnkgLSB0aGlzLnR5ICogdi54O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbXVsdGlwbHkgPSBmdW5jdGlvbihzKXtcclxuICAgICAgICAgICAgdGhpcy54ICo9IHM7XHJcbiAgICAgICAgICAgIHRoaXMueSAqPSBzO1xyXG4gICAgICAgICAgICB0aGlzLnogKj0gcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpc3RhbmNlVG8gPSBmdW5jdGlvbih2KXtcclxuICAgICAgICAgICAgdGhpcy5keCA9IHRoaXMueCAtIHYueDtcclxuICAgICAgICAgICAgdGhpcy5keSA9IHRoaXMueSAtIHYueTtcclxuICAgICAgICAgICAgdGhpcy5keiA9IHRoaXMueiAtIHYuejtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5keCAqIHRoaXMuZHggKyB0aGlzLmR5ICogdGhpcy5keSArIHRoaXMuZHogKiB0aGlzLmR6KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpc3RhbmNlVG9TcXVhcmVkID0gZnVuY3Rpb24odil7XHJcbiAgICAgICAgICAgIHRoaXMuZHggPSB0aGlzLnggLSB2Lng7XHJcbiAgICAgICAgICAgIHRoaXMuZHkgPSB0aGlzLnkgLSB2Lnk7XHJcbiAgICAgICAgICAgIHRoaXMuZHogPSB0aGlzLnogLSB2Lno7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5keCAqIHRoaXMuZHggKyB0aGlzLmR5ICogdGhpcy5keSArIHRoaXMuZHogKiB0aGlzLmR6O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVuZ3RoID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVuZ3RoU3EgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmVnYXRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcclxuICAgICAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcclxuICAgICAgICAgICAgdGhpcy56ID0gLXRoaXMuejtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvdCA9IGZ1bmN0aW9uKHYpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xvbmUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvU3RyaW5nID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuICcoJyArIHRoaXMueCArICcsICcgKyB0aGlzLnkgKyAnLCAnICsgdGhpcy56ICsgJyknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZChhLCBiKXtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvciggYS54ICsgYi54LCBhLnkgKyBiLnksIGEueiArIGIueiApO1xyXG4gICAgfVxyXG4gICAgc3ViKGEsIGIpe1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKCBhLnggLSBiLngsIGEueSAtIGIueSwgYS56IC0gYi56ICk7XHJcbiAgICB9XHJcbiAgICBuZWdhdGUoKXtcclxuICAgICAgICB0aGlzLnggPSAtdGhpcy54O1xyXG4gICAgICAgIHRoaXMueSA9IC10aGlzLnk7XHJcbiAgICAgICAgdGhpcy56ID0gLXRoaXMuejtcclxuICAgIH1cclxuICAgIG11bHRpcGx5KGEsIHMpe1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKCBhLnggKiBzLCBhLnkgKiBzLCBhLnogKiBzICk7XHJcbiAgICB9XHJcbiAgICBjcm9zcyhhLCBiKXtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvciggYS55ICogYi56IC0gYS56ICogYi55LCBhLnogKiBiLnggLSBhLnggKiBiLnosIGEueCAqIGIueSAtIGEueSAqIGIueCApO1xyXG4gICAgfVxyXG4gICAgZG90KHYpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2Lno7XHJcbiAgICB9XHJcbiAgICBkaXN0YW5jZShhLCBiKXtcclxuICAgICAgICB2YXIgZHggPSBhLnggLSBiLngsXHJcbiAgICAgICAgICAgIGR5ID0gYS55IC0gYi55LFxyXG4gICAgICAgICAgICBkeiA9IGEueiAtIGIuejtcclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHopO1xyXG4gICAgfVxyXG4gICAgbGVuZ3RoKCl7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG4gICAgbXVsU2NhbGUoYSwgYil7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54KmIsdGhpcy55KmIsIHRoaXMueipiKTtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCgpID4gMClcclxuICAgICAgICAgICAgdGhpcy5vb2wgPSAxLjAgLyB0aGlzLmxlbmd0aCgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5vb2wgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnggKj0gdGhpcy5vb2w7XHJcbiAgICAgICAgdGhpcy55ICo9IHRoaXMub29sO1xyXG4gICAgICAgIHRoaXMueiAqPSB0aGlzLm9vbDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBEOi94YW1wcC9odGRvY3MvUHJvamVjdHMvamVzdC9lczIwMTUvVmVjdG9yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNS5qcyJ9");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar ResourceManager = (function () {\n    function ResourceManager() {\n        _classCallCheck(this, ResourceManager);\n\n        this.resources = [];\n        this.loaded = 0;\n        this.loadingComplete = true;\n    }\n\n    /**\r\n     * Resourcemanager.add(_resource, _type)\r\n     * object resource, String/Number, String\r\n     * adds a new resource for use and begins the process of loading\r\n     **/\n\n    _createClass(ResourceManager, [{\n        key: 'add',\n        value: function add(_resource, _type, _name) {\n            var resource = { 'path': _resource, 'type': _type, 'name': _name };\n\n            // if the resource is an existing image\n            if (_resource.src) {\n                resource.path = _resource.src;\n            }\n\n            this.loadingComplete = false;\n\n            if (_name === undefined) {\n                _name = \"\";\n            }\n\n            if (_type == 1 || _type == \"img\" || _type === null) {\n                if (_resource.nodeType === 1) {\n                    resource.source = _resource;\n                } else {\n                    resource.source = new Image();\n                }\n\n                this.resources.push({ resource: resource, name: _name });\n                resource.source.onload = (function (callback, res) {\n                    resource.loaded = true;callback.loadImg(callback, res);\n                })(this, resource);\n\n                if (_resource.nodeType === 1) {\n                    resource.source.src = _resource.src;\n                } else {\n                    resource.source.src = _resource;\n                }\n            } else if (_type == 2 || _type == \"audio\") {\n                resource.source = new Audio();\n                this.resources.push({ resource: resource, name: _name });\n                this.loadAudio(resource);\n                resource.source.src = _resource;\n            }\n\n            return resource;\n        }\n\n        /**\r\n         * Resourcemanager.loadImg()\r\n         * object event\r\n         * reports when an image is loaded\r\n         **/\n    }, {\n        key: 'loadImg',\n        value: function loadImg(callback, resource) {\n            if (resource.source.complete && resource.source.width) {\n                callback.loaded++;\n\n                if (callback.loaded === callback.resources.length) {\n                    callback.loadingComplete = true;\n                }\n            } else {\n                setTimeout(function () {\n                    callback.loadImg(callback, resource);\n                }, 10);\n            }\n        }\n\n        /**\r\n         * Resourcemanager.loadAudio(audio)\r\n         * object audio resource\r\n         * reports when audio is loaded\r\n         **/\n    }, {\n        key: 'loadAudio',\n        value: function loadAudio(audio, timeOut) {\n            clearTimeout(timeOut);\n            timeOut = 0;\n\n            var self = this;\n\n            if (audio.source.readyState > 0) {\n                this.loaded++;\n\n                if (this.loaded === this.resources.length) {\n                    this.loadingComplete = true;\n                }\n            } else {\n                timeOut = setTimeout(function () {\n                    self.loadAudio(audio, timeOut);\n                }, 100);\n            }\n        }\n\n        /**\r\n         * Resourcemanager.getResource(name)\r\n         * string/text\r\n         * returns the resource by name if found\r\n         **/\n    }, {\n        key: 'getResource',\n        value: function getResource(_name) {\n            var resources = this.resources;\n\n            for (var i = 0, l = resources.length; i < l; i++) {\n                if (resources[i].name == _name) {\n                    return resources[i].resource;\n                }\n            }\n        }\n    }]);\n\n    return ResourceManager;\n})();\n\nexports['default'] = ResourceManager;\nmodule.exports = exports['default'];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L1Jlc291cmNlTWFuYWdlci5qcz80YzIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUIsZUFBZTtBQUNyQixhQURNLGVBQWUsR0FDbkI7OEJBREksZUFBZTs7QUFFNUIsWUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDcEIsWUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDaEIsWUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7S0FDL0I7Ozs7Ozs7O2lCQUxnQixlQUFlOztlQVc3QixhQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDO0FBQ3hCLGdCQUFJLFFBQVEsR0FBRyxFQUFDLE1BQU0sRUFBRyxTQUFTLEVBQUUsTUFBTSxFQUFHLEtBQUssRUFBRSxNQUFNLEVBQUcsS0FBSyxFQUFDLENBQUM7OztBQUdwRSxnQkFBRyxTQUFTLENBQUMsR0FBRyxFQUFDO0FBQ2Isd0JBQVEsQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQzthQUNqQzs7QUFFRCxnQkFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7O0FBRTdCLGdCQUFHLEtBQUssS0FBSyxTQUFTLEVBQUM7QUFDbkIscUJBQUssR0FBRyxFQUFFLENBQUM7YUFDZDs7QUFFRCxnQkFBRyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxLQUFLLElBQUksRUFBQztBQUM5QyxvQkFBRyxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBQztBQUN4Qiw0QkFBUSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7aUJBQy9CLE1BQUk7QUFDRCw0QkFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO2lCQUNqQzs7QUFFRCxvQkFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBQyxRQUFRLEVBQUcs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Q2hDO2FBQ0o7U0FDSDs7O1dBcEdlLGVBQWU7OztxQkFBZixlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VNYW5hZ2Vye1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMubG9hZGVkID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRpbmdDb21wbGV0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc291cmNlbWFuYWdlci5hZGQoX3Jlc291cmNlLCBfdHlwZSlcclxuICAgICAqIG9iamVjdCByZXNvdXJjZSwgU3RyaW5nL051bWJlciwgU3RyaW5nXHJcbiAgICAgKiBhZGRzIGEgbmV3IHJlc291cmNlIGZvciB1c2UgYW5kIGJlZ2lucyB0aGUgcHJvY2VzcyBvZiBsb2FkaW5nXHJcbiAgICAgKiovXHJcbiAgICBhZGQoX3Jlc291cmNlLCBfdHlwZSwgX25hbWUpe1xyXG4gICAgICAgIHZhciByZXNvdXJjZSA9IHsncGF0aCcgOiBfcmVzb3VyY2UsICd0eXBlJyA6IF90eXBlLCAnbmFtZScgOiBfbmFtZX07XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZSByZXNvdXJjZSBpcyBhbiBleGlzdGluZyBpbWFnZVxyXG4gICAgICAgIGlmKF9yZXNvdXJjZS5zcmMpe1xyXG4gICAgICAgICAgICByZXNvdXJjZS5wYXRoID0gX3Jlc291cmNlLnNyYztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9hZGluZ0NvbXBsZXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmKF9uYW1lID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBfbmFtZSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihfdHlwZSA9PSAxIHx8IF90eXBlID09IFwiaW1nXCIgfHwgX3R5cGUgPT09IG51bGwpe1xyXG4gICAgICAgICAgICBpZihfcmVzb3VyY2Uubm9kZVR5cGUgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc291cmNlID0gX3Jlc291cmNlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlLnNvdXJjZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5wdXNoKHtyZXNvdXJjZSA6IHJlc291cmNlLCBuYW1lIDogX25hbWV9KTtcclxuICAgICAgICAgICAgcmVzb3VyY2Uuc291cmNlLm9ubG9hZCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCByZXMpe3Jlc291cmNlLmxvYWRlZCA9IHRydWU7IGNhbGxiYWNrLmxvYWRJbWcoY2FsbGJhY2ssIHJlcyk7fSh0aGlzLCByZXNvdXJjZSk7XHJcblxyXG4gICAgICAgICAgICBpZihfcmVzb3VyY2Uubm9kZVR5cGUgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc291cmNlLnNyYyA9IF9yZXNvdXJjZS5zcmM7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc291cmNlLnNyYyA9IF9yZXNvdXJjZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ZWxzZSBpZihfdHlwZSA9PSAyIHx8IF90eXBlID09IFwiYXVkaW9cIil7XHJcbiAgICAgICAgICAgIHJlc291cmNlLnNvdXJjZSA9IG5ldyBBdWRpbygpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5wdXNoKHtyZXNvdXJjZSA6IHJlc291cmNlLCBuYW1lIDogX25hbWV9KTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkQXVkaW8ocmVzb3VyY2UpO1xyXG4gICAgICAgICAgICByZXNvdXJjZS5zb3VyY2Uuc3JjID0gX3Jlc291cmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvdXJjZW1hbmFnZXIubG9hZEltZygpXHJcbiAgICAgKiBvYmplY3QgZXZlbnRcclxuICAgICAqIHJlcG9ydHMgd2hlbiBhbiBpbWFnZSBpcyBsb2FkZWRcclxuICAgICAqKi9cclxuICAgIGxvYWRJbWcoY2FsbGJhY2ssIHJlc291cmNlKXtcclxuICAgICAgICBpZihyZXNvdXJjZS5zb3VyY2UuY29tcGxldGUgJiYgcmVzb3VyY2Uuc291cmNlLndpZHRoKXtcclxuICAgICAgICAgICAgY2FsbGJhY2subG9hZGVkKys7XHJcblxyXG4gICAgICAgICAgICBpZihjYWxsYmFjay5sb2FkZWQgPT09IGNhbGxiYWNrLnJlc291cmNlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2subG9hZGluZ0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y2FsbGJhY2subG9hZEltZyhjYWxsYmFjaywgcmVzb3VyY2UpO30sMTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzb3VyY2VtYW5hZ2VyLmxvYWRBdWRpbyhhdWRpbylcclxuICAgICAqIG9iamVjdCBhdWRpbyByZXNvdXJjZVxyXG4gICAgICogcmVwb3J0cyB3aGVuIGF1ZGlvIGlzIGxvYWRlZFxyXG4gICAgICoqL1xyXG4gICAgbG9hZEF1ZGlvKGF1ZGlvLHRpbWVPdXQpe1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0KTtcclxuICAgICAgICB0aW1lT3V0ID0gMDtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoYXVkaW8uc291cmNlLnJlYWR5U3RhdGUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkKys7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmxvYWRlZCA9PT0gdGhpcy5yZXNvdXJjZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2VsZi5sb2FkQXVkaW8oYXVkaW8sIHRpbWVPdXQpO30sIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvdXJjZW1hbmFnZXIuZ2V0UmVzb3VyY2UobmFtZSlcclxuICAgICAqIHN0cmluZy90ZXh0XHJcbiAgICAgKiByZXR1cm5zIHRoZSByZXNvdXJjZSBieSBuYW1lIGlmIGZvdW5kXHJcbiAgICAgKiovXHJcbiAgICAgZ2V0UmVzb3VyY2UoX25hbWUpe1xyXG4gICAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlcztcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHJlc291cmNlcy5sZW5ndGg7IGkgPCBsOyBpKyspe1xyXG4gICAgICAgICAgICBpZihyZXNvdXJjZXNbaV0ubmFtZSA9PSBfbmFtZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzW2ldLnJlc291cmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBEOi94YW1wcC9odGRvY3MvUHJvamVjdHMvamVzdC9lczIwMTUvUmVzb3VyY2VNYW5hZ2VyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIiLCJmaWxlIjoiNi5qcyJ9");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = (function () {\n    function Renderer(canvas) {\n        _classCallCheck(this, Renderer);\n\n        this.renderList = [];\n        this.canvas = canvas;\n        this.context = this.canvas.getContext(\"2d\");\n        this.width = this.canvas.width;\n        this.height = this.canvas.height;\n    }\n\n    // Todo: I dont like this. fix the sorting, right now sorts on y, but could potentially sort based on z\n\n    _createClass(Renderer, [{\n        key: \"redraw\",\n        value: function redraw() {\n            this.context.clearRect(0, 0, this.width, this.height);\n            //this.renderList.sort(function(a,b){return b.y-a.y});\n\n            this.renderList.sort(function (a, b) {\n                if (a.bg && b.bg) {\n                    return b.bgIndex - a.bgIndex;\n                } else if (a.ui && b.ui) {\n                    return b.uiIndex - a.uiIndex;\n                } else if (a.bg || b.ui) {\n                    return 1;\n                } else if (b.bg || a.ui) {\n                    return -1;\n                } else if (a.pos && b.pos) {\n                    return b.pos.z - a.pos.z;\n                }\n                return 0;\n            });\n\n            var id = this.renderList.length;\n\n            while (id--) {\n                var curObject = this.renderList[id];\n                if (curObject.visible) {\n                    curObject.render(this.context);\n                }\n            }\n        }\n\n        /**\r\n         * Renderer.addToRenderer(object)\r\n         *\r\n         * add a new item to the renderer\r\n         **/\n    }, {\n        key: \"addToRenderer\",\n        value: function addToRenderer(object) {\n            this.renderList.push(object);\n        }\n\n        /**\r\n         * Renderer.removeFromRenderer(object)\r\n         *\r\n         * remove an item from the renderer\r\n         **/\n    }, {\n        key: \"removeFromRenderer\",\n        value: function removeFromRenderer(object) {\n            var list = this.renderList,\n                objIndex = list.indexOf(object);\n\n            if (objIndex !== -1) {\n                list.splice(list.indexOf(object), 1);\n            }\n        }\n    }]);\n\n    return Renderer;\n})();\n\nexports[\"default\"] = Renderer;\nmodule.exports = exports[\"default\"];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L1JlbmRlcmVyLmpzPzY4YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixRQUFRO0FBQ2QsYUFETSxRQUFRLENBQ2IsTUFBTSxFQUFFOzhCQURILFFBQVE7O0FBRXJCLFlBQUksQ0FBQyxVQUFVLEdBQUksRUFBRSxDQUFDO0FBQ3RCLFlBQUksQ0FBQyxNQUFNLEdBQU0sTUFBTSxDQUFDO0FBQ3hCLFlBQUksQ0FBQyxPQUFPLEdBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUMsWUFBSSxDQUFDLEtBQUssR0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNuQyxZQUFJLENBQUMsTUFBTSxHQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0tBQ3ZDOzs7O2lCQVBnQixRQUFROztlQVNuQixrQkFBRztBQUNMLGdCQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzs7QUFHbkQsZ0JBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVMsQ0FBQyxFQUFDLENBQUMsRUFBQztBQUM5QixvQkFBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUM7QUFDWiwyQkFBTyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7aUJBQ2hDLE1BQUssSUFBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUM7QUFDbEIsMkJBQU8sQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO2lCQUNoQyxNQUFLLElBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFDO0FBQ2xCLDJCQUFPLENBQUMsQ0FBQztpQkFDWixNQUFLLElBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFDO0FBQ2xCLDJCQUFPLENBQUMsQ0FBQyxDQUFDO2lCQUNiLE1BQUssSUFBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7QUFDcEIsMkJBQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQzVCO0FBQ0QsdUJBQU8sQ0FBQyxDQUFDO2FBQ1osQ0FBQyxDQUFDOztBQUVILGdCQUFJLEVBQUUsR0FBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQzs7QUFFakMsbUJBQU0sRUFBRSxFQUFFLEVBQUM7QUFDUCxvQkFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNwQyxvQkFBRyxTQUFTLENBQUMsT0FBTyxFQUFDO0FBQ2pCLDZCQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDbEM7YUFDSjtTQUNKOzs7Ozs7Ozs7ZUFNWSx1QkFBQyxNQUFNLEVBQUU7QUFDbEIsZ0JBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hDOzs7Ozs7Ozs7ZUFNaUIsNEJBQUMsTUFBTSxFQUFFO0FBQ3ZCLGdCQUFJLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVTtnQkFDdEIsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRXBDLGdCQUFHLFFBQVEsS0FBSyxDQUFDLENBQUMsRUFBQztBQUNmLG9CQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDeEM7U0FDSjs7O1dBekRnQixRQUFROzs7cUJBQVIsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVye1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJMaXN0ICA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FudmFzICAgID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCAgID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMud2lkdGggICAgID0gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgICAgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9XHJcbiAgICAvLyBUb2RvOiBJIGRvbnQgbGlrZSB0aGlzLiBmaXggdGhlIHNvcnRpbmcsIHJpZ2h0IG5vdyBzb3J0cyBvbiB5LCBidXQgY291bGQgcG90ZW50aWFsbHkgc29ydCBiYXNlZCBvbiB6XHJcbiAgICByZWRyYXcoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgLy90aGlzLnJlbmRlckxpc3Quc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBiLnktYS55fSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyTGlzdC5zb3J0KGZ1bmN0aW9uKGEsYil7XHJcbiAgICAgICAgICAgIGlmKGEuYmcgJiYgYi5iZyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5iZ0luZGV4IC0gYS5iZ0luZGV4O1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihhLnVpICYmIGIudWkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIudWlJbmRleCAtIGEudWlJbmRleDtcclxuICAgICAgICAgICAgfWVsc2UgaWYoYS5iZyB8fCBiLnVpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihiLmJnIHx8IGEudWkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihhLnBvcyAmJiBiLnBvcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5wb3MueiAtIGEucG9zLno7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBpZCA9ICB0aGlzLnJlbmRlckxpc3QubGVuZ3RoO1xyXG5cclxuICAgICAgICB3aGlsZShpZC0tKXtcclxuICAgICAgICAgICAgdmFyIGN1ck9iamVjdCA9IHRoaXMucmVuZGVyTGlzdFtpZF07XHJcbiAgICAgICAgICAgIGlmKGN1ck9iamVjdC52aXNpYmxlKXtcclxuICAgICAgICAgICAgICAgIGN1ck9iamVjdC5yZW5kZXIodGhpcy5jb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyZXIuYWRkVG9SZW5kZXJlcihvYmplY3QpXHJcbiAgICAgKlxyXG4gICAgICogYWRkIGEgbmV3IGl0ZW0gdG8gdGhlIHJlbmRlcmVyXHJcbiAgICAgKiovXHJcbiAgICBhZGRUb1JlbmRlcmVyKG9iamVjdCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyTGlzdC5wdXNoKG9iamVjdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcmVyLnJlbW92ZUZyb21SZW5kZXJlcihvYmplY3QpXHJcbiAgICAgKlxyXG4gICAgICogcmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgcmVuZGVyZXJcclxuICAgICAqKi9cclxuICAgIHJlbW92ZUZyb21SZW5kZXJlcihvYmplY3QpIHtcclxuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmVuZGVyTGlzdCxcclxuICAgICAgICAgICAgb2JqSW5kZXggPSBsaXN0LmluZGV4T2Yob2JqZWN0KTtcclxuXHJcbiAgICAgICAgaWYob2JqSW5kZXggIT09IC0xKXtcclxuICAgICAgICAgICAgbGlzdC5zcGxpY2UobGlzdC5pbmRleE9mKG9iamVjdCksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBEOi94YW1wcC9odGRvY3MvUHJvamVjdHMvamVzdC9lczIwMTUvUmVuZGVyZXIuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiIsImZpbGUiOiI3LmpzIn0=");

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Label = (function () {\n    function Label(options) {\n        _classCallCheck(this, Label);\n\n        options = options || {};\n        this.text = options.text || \"Undefined Label Text\";\n        this.font = options.font || \"1em Arial\";\n\n        this.pos = { x: 0, y: 0 };\n        this.pos.x = options.x || 0;\n        this.pos.y = options.y || 0;\n        this.pos = options.pos || { x: this.pos.x, y: this.pos.y };\n        this.color = options.color || \"#fff\";\n\n        this.x = this.pos.x;\n        this.y = this.pos.y;\n\n        this.live = true;\n        this.visible = true;\n    }\n\n    _createClass(Label, [{\n        key: \"update\",\n        value: function update(deltaTime) {}\n\n        // Draw the label\n    }, {\n        key: \"render\",\n        value: function render(context) {\n            context.fillStyle = this.color;\n            context.font = this.font;\n            context.fillText(this.text, this.pos.x, this.pos.y);\n        }\n    }]);\n\n    return Label;\n})();\n\nexports[\"default\"] = Label;\nmodule.exports = exports[\"default\"];//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDoveGFtcHAvaHRkb2NzL1Byb2plY3RzL2plc3QvZXMyMDE1L0xhYmVsLmpzP2FmNGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixLQUFLO0FBQ1gsYUFETSxLQUFLLENBQ1YsT0FBTyxFQUFDOzhCQURILEtBQUs7O0FBRWxCLGVBQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQ3hCLFlBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksSUFBSSxzQkFBc0IsQ0FBQztBQUNuRCxZQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLElBQUksV0FBVyxDQUFDOztBQUV4QyxZQUFJLENBQUMsR0FBRyxHQUFHLEVBQUMsQ0FBQyxFQUFHLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFDLENBQUM7QUFDMUIsWUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUIsWUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUIsWUFBSSxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxJQUFJLEVBQUMsQ0FBQyxFQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDO0FBQzNELFlBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUM7O0FBRXJDLFlBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEIsWUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFFcEIsWUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDakIsWUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7S0FDdkI7O2lCQWpCZ0IsS0FBSzs7ZUFrQmhCLGdCQUFDLFNBQVMsRUFBRSxFQUFFOzs7OztlQUVkLGdCQUFDLE9BQU8sRUFBRTtBQUNaLG1CQUFPLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDL0IsbUJBQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztBQUN6QixtQkFBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkQ7OztXQXhCZ0IsS0FBSzs7O3FCQUFMLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMYWJlbHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dCB8fCBcIlVuZGVmaW5lZCBMYWJlbCBUZXh0XCI7XHJcbiAgICAgICAgdGhpcy5mb250ID0gb3B0aW9ucy5mb250IHx8IFwiMWVtIEFyaWFsXCI7XHJcblxyXG4gICAgICAgIHRoaXMucG9zID0ge3ggOiAwLCB5IDogMH07XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IG9wdGlvbnMueCB8fCAwO1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSBvcHRpb25zLnkgfHwgMDtcclxuICAgICAgICB0aGlzLnBvcyA9IG9wdGlvbnMucG9zIHx8IHt4IDogdGhpcy5wb3MueCwgeSA6IHRoaXMucG9zLnl9O1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmNvbG9yIHx8IFwiI2ZmZlwiO1xyXG5cclxuICAgICAgICB0aGlzLnggPSB0aGlzLnBvcy54O1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMucG9zLnk7XHJcblxyXG4gICAgICAgIHRoaXMubGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkZWx0YVRpbWUpIHt9XHJcbiAgICAvLyBEcmF3IHRoZSBsYWJlbFxyXG4gICAgcmVuZGVyKGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5mb250O1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy50ZXh0LCB0aGlzLnBvcy54LCB0aGlzLnBvcy55KTtcclxuICAgIH1cclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIEQ6L3hhbXBwL2h0ZG9jcy9Qcm9qZWN0cy9qZXN0L2VzMjAxNS9MYWJlbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIiwiZmlsZSI6IjguanMifQ==");

/***/ }
/******/ ])